"use strict";exports.id=70,exports.ids=[70],exports.modules={991:(a,b,c)=>{c.d(b,{AU:()=>r,Q7:()=>o,Ue:()=>q,Yx:()=>h,mP:()=>s});var d=c(4002),e=c(5670),f=c(9153),g=c(3488);let h=32,i=new Uint8Array(32),j=["then"],k={},l=new WeakMap;function m(a){return l.get(a)}function n(a,b){let c=Error(`deferred error during ABI decoding triggered accessing ${a}`);throw c.error=b,c}class o extends Array{#a;constructor(...a){var b,c;let e=a[0],f=a[1],g=(a[2]||[]).slice(),h=!0;e!==k&&(f=a,g=[],h=!1),super(f.length),f.forEach((a,b)=>{this[b]=a});let i=g.reduce((a,b)=>("string"==typeof b&&a.set(b,(a.get(b)||0)+1),a),new Map);if(b=Object.freeze(f.map((a,b)=>{let c=g[b];return null!=c&&1===i.get(c)?c:null})),l.set(this,b),this.#a=[],null==this.#a&&this.#a,!h)return;Object.freeze(this);let o=new Proxy(this,{get:(a,b,c)=>{if("string"==typeof b){if(b.match(/^[0-9]+$/)){let c=(0,d.WZ)(b,"%index");if(c<0||c>=this.length)throw RangeError("out of result range");let e=a[c];return e instanceof Error&&n(`index ${c}`,e),e}if(j.indexOf(b)>=0)return Reflect.get(a,b,c);let e=a[b];if(e instanceof Function)return function(...b){return e.apply(this===c?a:this,b)};if(!(b in a))return a.getValue.apply(this===c?a:this,[b])}return Reflect.get(a,b,c)}});return c=m(this),l.set(o,c),o}toArray(a){let b=[];return this.forEach((c,d)=>{c instanceof Error&&n(`index ${d}`,c),a&&c instanceof o&&(c=c.toArray(a)),b.push(c)}),b}toObject(a){let b=m(this);return b.reduce((c,d,f)=>((0,e.vA)(null!=d,`value at index ${f} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),function a(b,c,d){return b.indexOf(null)>=0?c.map((b,c)=>b instanceof o?a(m(b),b,d):b):b.reduce((b,e,f)=>{let g=c.getValue(e);return e in b||(d&&g instanceof o&&(g=a(m(g),g,d)),b[e]=g),b},{})}(b,this,a)),{})}slice(a,b){null==a&&(a=0),a<0&&(a+=this.length)<0&&(a=0),null==b&&(b=this.length),b<0&&(b+=this.length)<0&&(b=0),b>this.length&&(b=this.length);let c=m(this),d=[],e=[];for(let f=a;f<b;f++)d.push(this[f]),e.push(c[f]);return new o(k,d,e)}filter(a,b){let c=m(this),d=[],e=[];for(let f=0;f<this.length;f++){let g=this[f];g instanceof Error&&n(`index ${f}`,g),a.call(b,g,f,this)&&(d.push(g),e.push(c[f]))}return new o(k,d,e)}map(a,b){let c=[];for(let d=0;d<this.length;d++){let e=this[d];e instanceof Error&&n(`index ${d}`,e),c.push(a.call(b,e,d,this))}return c}getValue(a){let b=m(this).indexOf(a);if(-1===b)return;let c=this[b];return c instanceof Error&&n(`property ${JSON.stringify(a)}`,c.error),c}static fromItems(a,b){return new o(k,a,b)}}function p(a){let b=(0,d.c4)(a);return(0,e.vA)(b.length<=h,"value out-of-bounds","BUFFER_OVERRUN",{buffer:b,length:h,offset:b.length}),b.length!==h&&(b=(0,f.Lm)((0,f.xW)([i.slice(b.length%h),b]))),b}class q{name;type;localName;dynamic;constructor(a,b,c,d){(0,g.n)(this,{name:a,type:b,localName:c,dynamic:d},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(a,b){(0,e.MR)(!1,a,this.localName,b)}}class r{#b;#c;constructor(){this.#b=[],this.#c=0}get data(){return(0,f.xW)(this.#b)}get length(){return this.#c}#d(a){return this.#b.push(a),this.#c+=a.length,a.length}appendWriter(a){return this.#d((0,f.Lm)(a.data))}writeBytes(a){let b=(0,f.Lm)(a),c=b.length%h;return c&&(b=(0,f.Lm)((0,f.xW)([b,i.slice(c)]))),this.#d(b)}writeValue(a){return this.#d(p(a))}writeUpdatableValue(){let a=this.#b.length;return this.#b.push(i),this.#c+=h,b=>{this.#b[a]=p(b)}}}class s{allowLoose;#b;#e;#f;#g;#h;constructor(a,b,c){(0,g.n)(this,{allowLoose:!!b}),this.#b=(0,f.Lm)(a),this.#f=0,this.#g=null,this.#h=null!=c?c:1024,this.#e=0}get data(){return(0,f.c$)(this.#b)}get dataLength(){return this.#b.length}get consumed(){return this.#e}get bytes(){return new Uint8Array(this.#b)}#i(a){if(this.#g)return this.#g.#i(a);this.#f+=a,(0,e.vA)(this.#h<1||this.#f<=this.#h*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#h} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,f.Lm)(this.#b),offset:this.#e,length:a,info:{bytesRead:this.#f,dataLength:this.dataLength}})}#j(a,b,c){let d=Math.ceil(b/h)*h;return this.#e+d>this.#b.length&&(this.allowLoose&&c&&this.#e+b<=this.#b.length?d=b:(0,e.vA)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,f.Lm)(this.#b),length:this.#b.length,offset:this.#e+d})),this.#b.slice(this.#e,this.#e+d)}subReader(a){let b=new s(this.#b.slice(this.#e+a),this.allowLoose,this.#h);return b.#g=this,b}readBytes(a,b){let c=this.#j(0,a,!!b);return this.#i(a),this.#e+=c.length,c.slice(0,a)}readValue(){return(0,d.Dg)(this.readBytes(h))}readIndex(){return(0,d.Ro)(this.readBytes(h))}}},1044:(a,b,c)=>{c.d(b,{r:()=>d});let d="6.15.0"},1189:(a,b,c)=>{c.d(b,{Vw:()=>n,$h:()=>k,tY:()=>p,Id:()=>m,O8:()=>h,po:()=>r,Ow:()=>i,ZJ:()=>l,DH:()=>g,ld:()=>q});var d=c(7598),e=c.t(d,2);let f=e&&"object"==typeof e&&"webcrypto"in e?d.webcrypto:void 0,g=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),h=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),i=(a,b)=>a<<32-b|a>>>b;if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");let j=async()=>{};async function k(a,b,c){let d=Date.now();for(let e=0;e<a;e++){c(e);let a=Date.now()-d;a>=0&&a<b||(await j(),d+=a)}}function l(a){if("string"==typeof a&&(a=function(a){if("string"!=typeof a)throw Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}(a)),!(a instanceof Uint8Array))throw Error(`expected Uint8Array, got ${typeof a}`);return a}function m(...a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;return a.forEach(a=>{if(!(a instanceof Uint8Array))throw Error("Uint8Array expected");b.set(a,c),c+=a.length}),b}class n{clone(){return this._cloneInto()}}let o={}.toString;function p(a,b){if(void 0!==b&&"[object Object]"!==o.call(b))throw Error("Options should be object or undefined");return Object.assign(a,b)}function q(a){let b=b=>a().update(l(b)).digest(),c=a();return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=()=>a(),b}function r(a=32){if(f&&"function"==typeof f.getRandomValues)return f.getRandomValues(new Uint8Array(a));throw Error("crypto.getRandomValues must be defined")}},2002:(a,b,c)=>{c.d(b,{V:()=>j});var d=c(5670),e=c(3488);let f={};function g(a,b){let c=!1;return b<0&&(c=!0,b*=-1),new j(f,`${c?"":"u"}int${b}`,a,{signed:c,width:b})}function h(a,b){return new j(f,`bytes${b||""}`,a,{size:b})}let i=Symbol.for("_ethers_typed");class j{type;value;#k;_typedSymbol;constructor(a,b,c,g){null==g&&(g=null),(0,d.gk)(f,a,"Typed"),(0,e.n)(this,{_typedSymbol:i,type:b,value:c}),this.#k=g,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(a=>a.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#k}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#k?-1:!1===this.#k?this.value.length:null}static from(a,b){return new j(f,a,b)}static uint8(a){return g(a,8)}static uint16(a){return g(a,16)}static uint24(a){return g(a,24)}static uint32(a){return g(a,32)}static uint40(a){return g(a,40)}static uint48(a){return g(a,48)}static uint56(a){return g(a,56)}static uint64(a){return g(a,64)}static uint72(a){return g(a,72)}static uint80(a){return g(a,80)}static uint88(a){return g(a,88)}static uint96(a){return g(a,96)}static uint104(a){return g(a,104)}static uint112(a){return g(a,112)}static uint120(a){return g(a,120)}static uint128(a){return g(a,128)}static uint136(a){return g(a,136)}static uint144(a){return g(a,144)}static uint152(a){return g(a,152)}static uint160(a){return g(a,160)}static uint168(a){return g(a,168)}static uint176(a){return g(a,176)}static uint184(a){return g(a,184)}static uint192(a){return g(a,192)}static uint200(a){return g(a,200)}static uint208(a){return g(a,208)}static uint216(a){return g(a,216)}static uint224(a){return g(a,224)}static uint232(a){return g(a,232)}static uint240(a){return g(a,240)}static uint248(a){return g(a,248)}static uint256(a){return g(a,256)}static uint(a){return g(a,256)}static int8(a){return g(a,-8)}static int16(a){return g(a,-16)}static int24(a){return g(a,-24)}static int32(a){return g(a,-32)}static int40(a){return g(a,-40)}static int48(a){return g(a,-48)}static int56(a){return g(a,-56)}static int64(a){return g(a,-64)}static int72(a){return g(a,-72)}static int80(a){return g(a,-80)}static int88(a){return g(a,-88)}static int96(a){return g(a,-96)}static int104(a){return g(a,-104)}static int112(a){return g(a,-112)}static int120(a){return g(a,-120)}static int128(a){return g(a,-128)}static int136(a){return g(a,-136)}static int144(a){return g(a,-144)}static int152(a){return g(a,-152)}static int160(a){return g(a,-160)}static int168(a){return g(a,-168)}static int176(a){return g(a,-176)}static int184(a){return g(a,-184)}static int192(a){return g(a,-192)}static int200(a){return g(a,-200)}static int208(a){return g(a,-208)}static int216(a){return g(a,-216)}static int224(a){return g(a,-224)}static int232(a){return g(a,-232)}static int240(a){return g(a,-240)}static int248(a){return g(a,-248)}static int256(a){return g(a,-256)}static int(a){return g(a,-256)}static bytes1(a){return h(a,1)}static bytes2(a){return h(a,2)}static bytes3(a){return h(a,3)}static bytes4(a){return h(a,4)}static bytes5(a){return h(a,5)}static bytes6(a){return h(a,6)}static bytes7(a){return h(a,7)}static bytes8(a){return h(a,8)}static bytes9(a){return h(a,9)}static bytes10(a){return h(a,10)}static bytes11(a){return h(a,11)}static bytes12(a){return h(a,12)}static bytes13(a){return h(a,13)}static bytes14(a){return h(a,14)}static bytes15(a){return h(a,15)}static bytes16(a){return h(a,16)}static bytes17(a){return h(a,17)}static bytes18(a){return h(a,18)}static bytes19(a){return h(a,19)}static bytes20(a){return h(a,20)}static bytes21(a){return h(a,21)}static bytes22(a){return h(a,22)}static bytes23(a){return h(a,23)}static bytes24(a){return h(a,24)}static bytes25(a){return h(a,25)}static bytes26(a){return h(a,26)}static bytes27(a){return h(a,27)}static bytes28(a){return h(a,28)}static bytes29(a){return h(a,29)}static bytes30(a){return h(a,30)}static bytes31(a){return h(a,31)}static bytes32(a){return h(a,32)}static address(a){return new j(f,"address",a)}static bool(a){return new j(f,"bool",!!a)}static bytes(a){return new j(f,"bytes",a)}static string(a){return new j(f,"string",a)}static array(a,b){throw Error("not implemented yet")}static tuple(a,b){throw Error("not implemented yet")}static overrides(a){return new j(f,"overrides",Object.assign({},a))}static isTyped(a){return a&&"object"==typeof a&&"_typedSymbol"in a&&a._typedSymbol===i}static dereference(a,b){if(j.isTyped(a)){if(a.type!==b)throw Error(`invalid type: expecetd ${b}, got ${a.type}`);return a.value}return a}}},3006:(a,b,c)=>{c.d(b,{j:()=>d});let d="0x0000000000000000000000000000000000000000"},3412:(a,b,c)=>{c.d(b,{NZ:()=>P});var d=c(2002),e=c(4261),f=c(3535),g=c(9009),h=c(3488),i=c(5670),j=c(4002),k=c(9153),l=c(4280);class m extends g.tG{interface;fragment;args;constructor(a,b,c){super(a,a.provider);let d=b.decodeEventLog(c,a.data,a.topics);(0,h.n)(this,{args:d,fragment:c,interface:b})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class n extends g.tG{error;constructor(a,b){super(a,a.provider),(0,h.n)(this,{error:b})}}class o extends g.z5{#l;constructor(a,b,c){super(c,b),this.#l=a}get logs(){return super.logs.map(a=>{let b=a.topics.length?this.#l.getEvent(a.topics[0]):null;if(b)try{return new m(a,this.#l,b)}catch(b){return new n(a,b)}return a})}}class p extends g.uI{#l;constructor(a,b,c){super(c,b),this.#l=a}async wait(a,b){let c=await super.wait(a,b);return null==c?null:new o(this.#l,this.provider,c)}}class q extends l.z{log;constructor(a,b,c,d){super(a,b,c),(0,h.n)(this,{log:d})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class r extends q{constructor(a,b,c,d,e){super(a,b,c,new m(e,a.interface,d));let f=a.interface.decodeEventLog(d,this.log.data,this.log.topics);(0,h.n)(this,{args:f,fragment:d})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}let s=BigInt(0);function t(a){return a&&"function"==typeof a.call}function u(a){return a&&"function"==typeof a.estimateGas}function v(a){return a&&"function"==typeof a.resolveName}function w(a){return a&&"function"==typeof a.sendTransaction}function x(a){if(null!=a){if(v(a))return a;if(a.provider)return a.provider}}class y{#m;fragment;constructor(a,b,c){if((0,h.n)(this,{fragment:b}),b.inputs.length<c.length)throw Error("too many arguments");let d=z(a.runner,"resolveName"),e=v(d)?d:null;this.#m=async function(){let d=await Promise.all(b.inputs.map((a,b)=>null==c[b]?null:a.walkAsync(c[b],(a,b)=>"address"===a?Array.isArray(b)?Promise.all(b.map(a=>(0,f.tG)(a,e))):(0,f.tG)(b,e):b)));return a.interface.encodeFilterTopics(b,d)}()}getTopicFilter(){return this.#m}}function z(a,b){return null==a?null:"function"==typeof a[b]?a:a.provider&&"function"==typeof a.provider[b]?a.provider:null}function A(a){return null==a?null:a.provider||null}async function B(a,b){let c=d.V.dereference(a,"overrides");(0,i.MR)("object"==typeof c,"invalid overrides parameter","overrides",a);let e=(0,g.VS)(c);return(0,i.MR)(null==e.to||(b||[]).indexOf("to")>=0,"cannot override to","overrides.to",e.to),(0,i.MR)(null==e.data||(b||[]).indexOf("data")>=0,"cannot override data","overrides.data",e.data),e.from&&(e.from=e.from),e}async function C(a,b,c){let e=z(a,"resolveName"),g=v(e)?e:null;return await Promise.all(b.map((a,b)=>a.walkAsync(c[b],(a,b)=>(b=d.V.dereference(b,a),"address"===a)?(0,f.tG)(b,g):b)))}let D=Symbol.for("_ethersInternal_contract"),E=new WeakMap;function F(a){return E.get(a[D])}async function G(a,b){let c,d=null;if(Array.isArray(b)){let d=function(b){if((0,k.Lo)(b,32))return b;let c=a.interface.getEvent(b);return(0,i.MR)(c,"unknown fragment","name",b),c.topicHash};c=b.map(a=>null==a?null:Array.isArray(a)?a.map(d):d(a))}else if("*"===b)c=[null];else if("string"==typeof b)(0,k.Lo)(b,32)?c=[b]:(d=a.interface.getEvent(b),(0,i.MR)(d,"unknown fragment","event",b),c=[d.topicHash]);else b&&"object"==typeof b&&"getTopicFilter"in b&&"function"==typeof b.getTopicFilter&&b.fragment?c=await b.getTopicFilter():"fragment"in b?c=[(d=b.fragment).topicHash]:(0,i.MR)(!1,"unknown event name","event",b);return{fragment:d,tag:(c=c.map(a=>{if(null==a)return null;if(Array.isArray(a)){let b=Array.from(new Set(a.map(a=>a.toLowerCase())).values());return 1===b.length?b[0]:(b.sort(),b)}return a.toLowerCase()})).map(a=>null==a?"null":Array.isArray(a)?a.join("|"):a).join("&"),topics:c}}async function H(a,b){let{subs:c}=F(a);return c.get((await G(a,b)).tag)||null}async function I(a,b,c){let d=A(a.runner);(0,i.vA)(d,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:b});let{fragment:e,tag:f,topics:g}=await G(a,c),{addr:h,subs:j}=F(a),k=j.get(f);if(!k){let b={address:h||a,topics:g},i=b=>{let d=e;if(null==d)try{d=a.interface.getEvent(b.topics[0])}catch(a){}if(d){let f=d,g=e?a.interface.decodeEventLog(e,b.data,b.topics):[];L(a,c,g,d=>new r(a,d,c,f,b))}else L(a,c,[],d=>new q(a,d,c,b))},l=[];k={tag:f,listeners:[],start:()=>{l.length||l.push(d.on(b,i))},stop:async()=>{if(0==l.length)return;let a=l;l=[],await Promise.all(a),d.off(b,i)}},j.set(f,k)}return k}let J=Promise.resolve();async function K(a,b,c,d){await J;let e=await H(a,b);if(!e)return!1;let f=e.listeners.length;return e.listeners=e.listeners.filter(({listener:b,once:e})=>{let f=Array.from(c);d&&f.push(d(e?null:b));try{b.call(a,...f)}catch(a){}return!e}),0===e.listeners.length&&(e.stop(),F(a).subs.delete(e.tag)),f>0}async function L(a,b,c,d){try{await J}catch(a){}let e=K(a,b,c,d);return J=e,await e}let M=["then"];class N{target;interface;runner;filters;[D];fallback;constructor(a,b,c,d){var g;let l;(0,i.MR)("string"==typeof a||(0,f.$C)(a),"invalid value for Contract target","target",a),null==c&&(c=null);let m=e.KA.from(b);(0,h.n)(this,{target:a,runner:c,interface:m}),Object.defineProperty(this,D,{value:{}});let n=null,o=null;if(d){let a=A(c);o=new p(this.interface,a,d)}let q=new Map;if("string"==typeof a)if((0,k.Lo)(a))n=a,l=Promise.resolve(a);else{let b=z(c,"resolveName");if(!v(b))throw(0,i.xz)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});l=b.resolveName(a).then(b=>{if(null==b)throw(0,i.xz)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:a});return F(this).addr=b,b})}else l=a.getAddress().then(a=>{if(null==a)throw Error("TODO");return F(this).addr=a,a});g={addrPromise:l,addr:n,deployTx:o,subs:q},E.set(this[D],g);let r=new Proxy({},{get:(a,b,c)=>{if("symbol"==typeof b||M.indexOf(b)>=0)return Reflect.get(a,b,c);try{return this.getEvent(b)}catch(a){if(!(0,i.bJ)(a,"INVALID_ARGUMENT")||"key"!==a.argument)throw a}},has:(a,b)=>M.indexOf(b)>=0?Reflect.has(a,b):Reflect.has(a,b)||this.interface.hasEvent(String(b))});return(0,h.n)(this,{filters:r}),(0,h.n)(this,{fallback:m.receive||m.fallback?function(a){let b=async function(b){let c=await B(b,["data"]);c.to=await a.getAddress(),c.from&&(c.from=await (0,f.tG)(c.from,x(a.runner)));let d=a.interface,e=(0,j.Ab)(c.value||s,"overrides.value")===s,g="0x"===(c.data||"0x");!d.fallback||d.fallback.payable||!d.receive||g||e||(0,i.MR)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",b),(0,i.MR)(d.fallback||g,"cannot send data to receive-only contract","overrides.data",c.data);let h=d.receive||d.fallback&&d.fallback.payable;return(0,i.MR)(h||e,"cannot send value to non-payable fallback","overrides.value",c.value),(0,i.MR)(d.fallback||g,"cannot send data to receive-only contract","overrides.data",c.data),c},c=async function(c){let d=z(a.runner,"call");(0,i.vA)(t(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let e=await b(c);try{return await d.call(e)}catch(b){if((0,i.E)(b)&&b.data)throw a.interface.makeError(b.data,e);throw b}},d=async function(c){let d=a.runner;(0,i.vA)(w(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let e=await d.sendTransaction(await b(c)),f=A(a.runner);return new p(a.interface,f,e)},e=async function(c){let d=z(a.runner,"estimateGas");return(0,i.vA)(u(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await b(c))},g=async a=>await d(a);return(0,h.n)(g,{_contract:a,estimateGas:e,populateTransaction:b,send:d,staticCall:c}),g}(this):null}),new Proxy(this,{get:(a,b,c)=>{if("symbol"==typeof b||b in a||M.indexOf(b)>=0)return Reflect.get(a,b,c);try{return a.getFunction(b)}catch(a){if(!(0,i.bJ)(a,"INVALID_ARGUMENT")||"key"!==a.argument)throw a}},has:(a,b)=>"symbol"==typeof b||b in a||M.indexOf(b)>=0?Reflect.has(a,b):a.interface.hasFunction(b)})}connect(a){return new N(this.target,this.interface,a)}attach(a){return new N(a,this.interface,this.runner)}async getAddress(){return await F(this).addrPromise}async getDeployedCode(){let a=A(this.runner);(0,i.vA)(a,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let b=await a.getCode(await this.getAddress());return"0x"===b?null:b}async waitForDeployment(){let a=this.deploymentTransaction();if(a)return await a.wait(),this;if(null!=await this.getDeployedCode())return this;let b=A(this.runner);return(0,i.vA)(null!=b,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((a,c)=>{let d=async()=>{try{let c=await this.getDeployedCode();if(null!=c)return a(this);b.once("block",d)}catch(a){c(a)}};d()})}deploymentTransaction(){return F(this).deployTx}getFunction(a){return"string"!=typeof a&&(a=a.format()),function(a,b){let c=function(...c){let d=a.interface.getFunction(b,c);return(0,i.vA)(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:b,args:c}}),d},d=async function(...b){let d=c(...b),e={};if(d.inputs.length+1===b.length&&(e=await B(b.pop())).from&&(e.from=await (0,f.tG)(e.from,x(a.runner))),d.inputs.length!==b.length)throw Error("internal error: fragment inputs doesn't match arguments; should not happen");let g=await C(a.runner,d.inputs,b);return Object.assign({},e,await (0,h.k)({to:a.getAddress(),data:a.interface.encodeFunctionData(d,g)}))},e=async function(...a){let b=await k(...a);return 1===b.length?b[0]:b},g=async function(...b){let c=a.runner;(0,i.vA)(w(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let e=await c.sendTransaction(await d(...b)),f=A(a.runner);return new p(a.interface,f,e)},j=async function(...b){let c=z(a.runner,"estimateGas");return(0,i.vA)(u(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await d(...b))},k=async function(...b){let e=z(a.runner,"call");(0,i.vA)(t(e),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let f=await d(...b),g="0x";try{g=await e.call(f)}catch(b){if((0,i.E)(b)&&b.data)throw a.interface.makeError(b.data,f);throw b}let h=c(...b);return a.interface.decodeFunctionResult(h,g)},l=async(...a)=>c(...a).constant?await e(...a):await g(...a);return(0,h.n)(l,{name:a.interface.getFunctionName(b),_contract:a,_key:b,getFragment:c,estimateGas:j,populateTransaction:d,send:g,staticCall:e,staticCallResult:k}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{let c=a.interface.getFunction(b);return(0,i.vA)(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:b}}),c}}),l}(this,a)}getEvent(a){"string"!=typeof a&&(a=a.format());var b=this,c=a;let d=function(...a){let d=b.interface.getEvent(c,a);return(0,i.vA)(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:c,args:a}}),d},e=function(...a){return new y(b,d(...a),a)};return(0,h.n)(e,{name:b.interface.getEventName(c),_contract:b,_key:c,getFragment:d}),Object.defineProperty(e,"fragment",{configurable:!1,enumerable:!0,get:()=>{let a=b.interface.getEvent(c);return(0,i.vA)(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:c}}),a}}),e}async queryTransaction(a){throw Error("@TODO")}async queryFilter(a,b,c){null==b&&(b=0),null==c&&(c="latest");let{addr:d,addrPromise:e}=F(this),f=d||await e,{fragment:h,topics:j}=await G(this,a),k={address:f,topics:j,fromBlock:b,toBlock:c},l=A(this.runner);return(0,i.vA)(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(k)).map(a=>{let b=h;if(null==b)try{b=this.interface.getEvent(a.topics[0])}catch(a){}if(b)try{return new m(a,this.interface,b)}catch(b){return new n(a,b)}return new g.tG(a,l)})}async on(a,b){let c=await I(this,"on",a);return c.listeners.push({listener:b,once:!1}),c.start(),this}async once(a,b){let c=await I(this,"once",a);return c.listeners.push({listener:b,once:!0}),c.start(),this}async emit(a,...b){return await L(this,a,b,null)}async listenerCount(a){if(a){let b=await H(this,a);return b?b.listeners.length:0}let{subs:b}=F(this),c=0;for(let{listeners:a}of b.values())c+=a.length;return c}async listeners(a){if(a){let b=await H(this,a);return b?b.listeners.map(({listener:a})=>a):[]}let{subs:b}=F(this),c=[];for(let{listeners:a}of b.values())c=c.concat(a.map(({listener:a})=>a));return c}async off(a,b){let c=await H(this,a);if(!c)return this;if(b){let a=c.listeners.map(({listener:a})=>a).indexOf(b);a>=0&&c.listeners.splice(a,1)}return(null==b||0===c.listeners.length)&&(c.stop(),F(this).subs.delete(c.tag)),this}async removeAllListeners(a){if(a){let b=await H(this,a);if(!b)return this;b.stop(),F(this).subs.delete(b.tag)}else{let{subs:a}=F(this);for(let{tag:b,stop:c}of a.values())c(),a.delete(b)}return this}async addListener(a,b){return await this.on(a,b)}async removeListener(a,b){return await this.off(a,b)}static buildClass(a){class b extends N{constructor(b,c=null){super(b,a,c)}}return b}static from(a,b,c){return null==c&&(c=null),new this(a,b,c)}}function O(){return N}class P extends O(){}},3488:(a,b,c)=>{async function d(a){let b=Object.keys(a);return(await Promise.all(b.map(b=>Promise.resolve(a[b])))).reduce((a,c,d)=>(a[b[d]]=c,a),{})}function e(a,b,c){for(let d in b){let e=b[d],f=c?c[d]:null;f&&function(a,b,c){let d=b.split("|").map(a=>a.trim());for(let c=0;c<d.length;c++)switch(b){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof a===b)return}let e=Error(`invalid value for type ${b}`);throw e.code="INVALID_ARGUMENT",e.argument=`value.${c}`,e.value=a,e}(e,f,d),Object.defineProperty(a,d,{enumerable:!0,value:e,writable:!1})}}c.d(b,{k:()=>d,n:()=>e})},3535:(a,b,c)=>{c.d(b,{$C:()=>f,PW:()=>g,tG:()=>i});var d=c(5670),e=c(6152);function f(a){return a&&"function"==typeof a.getAddress}function g(a){try{return(0,e.b)(a),!0}catch(a){}return!1}async function h(a,b){let c=await b;return(null==c||"0x0000000000000000000000000000000000000000"===c)&&((0,d.vA)("string"!=typeof a,"unconfigured name","UNCONFIGURED_NAME",{value:a}),(0,d.MR)(!1,"invalid AddressLike value; did not resolve to a value address","target",a)),(0,e.b)(c)}function i(a,b){return"string"==typeof a?a.match(/^0x[0-9a-f]{40}$/i)?(0,e.b)(a):((0,d.vA)(null!=b,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),h(a,b.resolveName(a))):f(a)?h(a,a.getAddress()):a&&"function"==typeof a.then?h(a,a):void(0,d.MR)(!1,"unsupported addressable value","target",a)}},3562:(a,b,c)=>{c.d(b,{h:()=>af});var d={};c.r(d),c.d(d,{OG:()=>r,My:()=>i,Ph:()=>l,lX:()=>m,Id:()=>q,fg:()=>u,qj:()=>p,aT:()=>k,lq:()=>n,z:()=>o,Q5:()=>w});var e=c(9957);BigInt(0);let f=BigInt(1),g=BigInt(2),h=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function i(a){if(!(a instanceof Uint8Array))throw Error("Uint8Array expected");let b="";for(let c=0;c<a.length;c++)b+=h[a[c]];return b}function j(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);return BigInt(""===a?"0":`0x${a}`)}function k(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);let b=a.length;if(b%2)throw Error("padded hex string expected, got unpadded hex of length "+b);let c=new Uint8Array(b/2);for(let b=0;b<c.length;b++){let d=2*b,e=Number.parseInt(a.slice(d,d+2),16);if(Number.isNaN(e)||e<0)throw Error("Invalid byte sequence");c[b]=e}return c}function l(a){return j(i(a))}function m(a){if(!(a instanceof Uint8Array))throw Error("Uint8Array expected");return j(i(Uint8Array.from(a).reverse()))}function n(a,b){return k(a.toString(16).padStart(2*b,"0"))}function o(a,b){return n(a,b).reverse()}function p(a,b,c){let d;if("string"==typeof b)try{d=k(b)}catch(c){throw Error(`${a} must be valid hex string, got "${b}". Cause: ${c}`)}else if(b instanceof Uint8Array)d=Uint8Array.from(b);else throw Error(`${a} must be hex string or Uint8Array`);let e=d.length;if("number"==typeof c&&e!==c)throw Error(`${a} expected ${c} bytes, got ${e}`);return d}function q(...a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;return a.forEach(a=>{if(!(a instanceof Uint8Array))throw Error("Uint8Array expected");b.set(a,c),c+=a.length}),b}let r=a=>(g<<BigInt(a-1))-f,s=a=>new Uint8Array(a),t=a=>Uint8Array.from(a);function u(a,b,c){if("number"!=typeof a||a<2)throw Error("hashLen must be a number");if("number"!=typeof b||b<2)throw Error("qByteLen must be a number");if("function"!=typeof c)throw Error("hmacFn must be a function");let d=s(a),e=s(a),f=0,g=()=>{d.fill(1),e.fill(0),f=0},h=(...a)=>c(e,d,...a),i=(a=s())=>{e=h(t([0]),a),d=h(),0!==a.length&&(e=h(t([1]),a),d=h())},j=()=>{if(f++>=1e3)throw Error("drbg: tried 1000 values");let a=0,c=[];for(;a<b;){let b=(d=h()).slice();c.push(b),a+=d.length}return q(...c)};return(a,b)=>{let c;for(g(),i(a);!(c=b(j()));)i();return g(),c}}let v={bigint:a=>"bigint"==typeof a,function:a=>"function"==typeof a,boolean:a=>"boolean"==typeof a,string:a=>"string"==typeof a,stringOrUint8Array:a=>"string"==typeof a||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,b)=>b.Fp.isValid(a),hash:a=>"function"==typeof a&&Number.isSafeInteger(a.outputLen)};function w(a,b,c={}){let d=(b,c,d)=>{let e=v[c];if("function"!=typeof e)throw Error(`Invalid validator "${c}", expected function`);let f=a[b];if((!d||void 0!==f)&&!e(f,a))throw Error(`Invalid param ${String(b)}=${f} (${typeof f}), expected ${c}`)};for(let[a,c]of Object.entries(b))d(a,c,!1);for(let[a,b]of Object.entries(c))d(a,b,!0);return a}let x=BigInt(0),y=BigInt(1),z=BigInt(2),A=BigInt(3),B=BigInt(4),C=BigInt(5),D=BigInt(8);function E(a,b){let c=a%b;return c>=x?c:b+c}function F(a,b,c){let d=a;for(;b-- >x;)d*=d,d%=c;return d}function G(a,b){if(a===x||b<=x)throw Error(`invert: expected positive integers, got n=${a} mod=${b}`);let c=E(a,b),d=b,e=x,f=y,g=y,h=x;for(;c!==x;){let a=d/c,b=d%c,i=e-g*a,j=f-h*a;d=c,c=b,e=g,f=h,g=i,h=j}if(d!==y)throw Error("invert: does not exist");return E(e,b)}BigInt(9),BigInt(16);let H=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function I(a,b){let c=void 0!==b?b:a.toString(2).length,d=Math.ceil(c/8);return{nBitLength:c,nByteLength:d}}function J(a){if("bigint"!=typeof a)throw Error("field order must be bigint");return Math.ceil(a.toString(2).length/8)}function K(a){let b=J(a);return b+Math.ceil(b/2)}var L=c(9965),M=c(1189);let N=BigInt(0),O=BigInt(1);function P(a){return w(a.Fp,H.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),w(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...I(a.n,a.nBitLength),...a,...{p:a.Fp.ORDER}})}let{Ph:Q,aT:R}=d,S={Err:class extends Error{constructor(a=""){super(a)}},_parseInt(a){let{Err:b}=S;if(a.length<2||2!==a[0])throw new b("Invalid signature integer tag");let c=a[1],d=a.subarray(2,c+2);if(!c||d.length!==c)throw new b("Invalid signature integer: wrong length");if(128&d[0])throw new b("Invalid signature integer: negative");if(0===d[0]&&!(128&d[1]))throw new b("Invalid signature integer: unnecessary leading zero");return{d:Q(d),l:a.subarray(c+2)}},toSig(a){let{Err:b}=S,c="string"==typeof a?R(a):a;if(!(c instanceof Uint8Array))throw Error("ui8a expected");let d=c.length;if(d<2||48!=c[0])throw new b("Invalid signature tag");if(c[1]!==d-2)throw new b("Invalid signature: incorrect length");let{d:e,l:f}=S._parseInt(c.subarray(2)),{d:g,l:h}=S._parseInt(f);if(h.length)throw new b("Invalid signature: left bytes after parsing");return{r:e,s:g}},hexFromSig(a){let b=a=>8&Number.parseInt(a[0],16)?"00"+a:a,c=a=>{let b=a.toString(16);return 1&b.length?`0${b}`:b},d=b(c(a.s)),e=b(c(a.r)),f=d.length/2,g=e.length/2,h=c(f),i=c(g);return`30${c(g+f+4)}02${i}${e}02${h}${d}`}},T=BigInt(0),U=BigInt(1),V=(BigInt(2),BigInt(3));BigInt(4);let W=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),X=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Y=BigInt(1),Z=BigInt(2),$=(a,b)=>(a+b/Z)/b,_=function(a,b,c=!1,d={}){if(a<=x)throw Error(`Expected Field ORDER > 0, got ${a}`);let{nBitLength:e,nByteLength:f}=I(a,b);if(f>2048)throw Error("Field lengths over 2048 bytes are not supported");let g=function(a){if(a%B===A){let b=(a+y)/B;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}if(a%D===C){let b=(a-C)/D;return function(a,c){let d=a.mul(c,z),e=a.pow(d,b),f=a.mul(c,e),g=a.mul(a.mul(f,z),e),h=a.mul(f,a.sub(g,a.ONE));if(!a.eql(a.sqr(h),c))throw Error("Cannot find square root");return h}}return function(a){let b,c,d,e=(a-y)/z;for(b=a-y,c=0;b%z===x;b/=z,c++);for(d=z;d<a&&function(a,b,c){if(c<=x||b<x)throw Error("Expected power/modulo > 0");if(c===y)return x;let d=y;for(;b>x;)b&y&&(d=d*a%c),a=a*a%c,b>>=y;return d}(d,e,a)!==a-y;d++);if(1===c){let b=(a+y)/B;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}let f=(b+y)/z;return function(a,g){if(a.pow(g,e)===a.neg(a.ONE))throw Error("Cannot find square root");let h=c,i=a.pow(a.mul(a.ONE,d),b),j=a.pow(g,f),k=a.pow(g,b);for(;!a.eql(k,a.ONE);){if(a.eql(k,a.ZERO))return a.ZERO;let b=1;for(let c=a.sqr(k);b<h&&!a.eql(c,a.ONE);b++)c=a.sqr(c);let c=a.pow(i,y<<BigInt(h-b-1));i=a.sqr(c),j=a.mul(j,c),k=a.mul(k,i),h=b}return j}}(a)}(a),h=Object.freeze({ORDER:a,BITS:e,BYTES:f,MASK:r(e),ZERO:x,ONE:y,create:b=>E(b,a),isValid:b=>{if("bigint"!=typeof b)throw Error(`Invalid field element: expected bigint, got ${typeof b}`);return x<=b&&b<a},is0:a=>a===x,isOdd:a=>(a&y)===y,neg:b=>E(-b,a),eql:(a,b)=>a===b,sqr:b=>E(b*b,a),add:(b,c)=>E(b+c,a),sub:(b,c)=>E(b-c,a),mul:(b,c)=>E(b*c,a),pow:(a,b)=>(function(a,b,c){if(c<x)throw Error("Expected power > 0");if(c===x)return a.ONE;if(c===y)return b;let d=a.ONE,e=b;for(;c>x;)c&y&&(d=a.mul(d,e)),e=a.sqr(e),c>>=y;return d})(h,a,b),div:(b,c)=>E(b*G(c,a),a),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:b=>G(b,a),sqrt:d.sqrt||(a=>g(h,a)),invertBatch:a=>(function(a,b){let c=Array(b.length),d=b.reduce((b,d,e)=>a.is0(d)?b:(c[e]=b,a.mul(b,d)),a.ONE),e=a.inv(d);return b.reduceRight((b,d,e)=>a.is0(d)?b:(c[e]=a.mul(b,c[e]),a.mul(b,d)),e),c})(h,a),cmov:(a,b,c)=>c?b:a,toBytes:a=>c?o(a,f):n(a,f),fromBytes:a=>{if(a.length!==f)throw Error(`Fp.fromBytes: expected ${f}, got ${a.length}`);return c?m(a):l(a)}});return Object.freeze(h)}(W,void 0,void 0,{sqrt:function(a){let b=BigInt(3),c=BigInt(6),d=BigInt(11),e=BigInt(22),f=BigInt(23),g=BigInt(44),h=BigInt(88),i=a*a*a%W,j=i*i*a%W,k=F(j,b,W)*j%W,l=F(k,b,W)*j%W,m=F(l,Z,W)*i%W,n=F(m,d,W)*m%W,o=F(n,e,W)*n%W,p=F(o,g,W)*o%W,q=F(p,h,W)*p%W,r=F(q,g,W)*o%W,s=F(r,b,W)*j%W,t=F(s,f,W)*n%W,u=F(t,c,W)*i%W,v=F(u,Z,W);if(!_.eql(_.sqr(v),a))throw Error("Cannot find square root");return v}}),aa=function(a,b){let c=b=>(function(a){let b=function(a){let b=P(a);return w(b,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})}(a),{Fp:c,n:d}=b,e=c.BYTES+1,f=2*c.BYTES+1;function g(a){return E(a,d)}let{ProjectivePoint:h,normPrivateKeyToScalar:j,weierstrassEquation:s,isWithinCurveOrder:t}=function(a){let b=function(a){let b=P(a);w(b,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:c,Fp:d,a:e}=b;if(c){if(!d.eql(e,d.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof c||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...b})}(a),{Fp:c}=b,d=b.toBytes||((a,b,d)=>{let e=b.toAffine();return q(Uint8Array.from([4]),c.toBytes(e.x),c.toBytes(e.y))}),e=b.fromBytes||(a=>{let b=a.subarray(1);return{x:c.fromBytes(b.subarray(0,c.BYTES)),y:c.fromBytes(b.subarray(c.BYTES,2*c.BYTES))}});function f(a){let{a:d,b:e}=b,f=c.sqr(a),g=c.mul(f,a);return c.add(c.add(g,c.mul(a,d)),e)}if(!c.eql(c.sqr(b.Gy),f(b.Gx)))throw Error("bad generator point: equation left != right");function g(a){return"bigint"==typeof a&&T<a&&a<b.n}function h(a){if(!g(a))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function j(a){let c,{allowedPrivateKeyLengths:d,nByteLength:e,wrapPrivateKey:f,n:g}=b;if(d&&"bigint"!=typeof a){if(a instanceof Uint8Array&&(a=i(a)),"string"!=typeof a||!d.includes(a.length))throw Error("Invalid key");a=a.padStart(2*e,"0")}try{c="bigint"==typeof a?a:l(p("private key",a,e))}catch(b){throw Error(`private key must be ${e} bytes, hex or bigint, not ${typeof a}`)}return f&&(c=E(c,g)),h(c),c}let k=new Map;function m(a){if(!(a instanceof n))throw Error("ProjectivePoint expected")}class n{constructor(a,b,d){if(this.px=a,this.py=b,this.pz=d,null==a||!c.isValid(a))throw Error("x required");if(null==b||!c.isValid(b))throw Error("y required");if(null==d||!c.isValid(d))throw Error("z required")}static fromAffine(a){let{x:b,y:d}=a||{};if(!a||!c.isValid(b)||!c.isValid(d))throw Error("invalid affine point");if(a instanceof n)throw Error("projective point not allowed");let e=a=>c.eql(a,c.ZERO);return e(b)&&e(d)?n.ZERO:new n(b,d,c.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(a){let b=c.invertBatch(a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(n.fromAffine)}static fromHex(a){let b=n.fromAffine(e(p("pointHex",a)));return b.assertValidity(),b}static fromPrivateKey(a){return n.BASE.multiply(j(a))}_setWindowSize(a){this._WINDOW_SIZE=a,k.delete(this)}assertValidity(){if(this.is0()){if(b.allowInfinityPoint&&!c.is0(this.py))return;throw Error("bad point: ZERO")}let{x:a,y:d}=this.toAffine();if(!c.isValid(a)||!c.isValid(d))throw Error("bad point: x or y not FE");let e=c.sqr(d),g=f(a);if(!c.eql(e,g))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:a}=this.toAffine();if(c.isOdd)return!c.isOdd(a);throw Error("Field doesn't support isOdd")}equals(a){m(a);let{px:b,py:d,pz:e}=this,{px:f,py:g,pz:h}=a,i=c.eql(c.mul(b,h),c.mul(f,e)),j=c.eql(c.mul(d,h),c.mul(g,e));return i&&j}negate(){return new n(this.px,c.neg(this.py),this.pz)}double(){let{a,b:d}=b,e=c.mul(d,V),{px:f,py:g,pz:h}=this,i=c.ZERO,j=c.ZERO,k=c.ZERO,l=c.mul(f,f),m=c.mul(g,g),o=c.mul(h,h),p=c.mul(f,g);return p=c.add(p,p),k=c.mul(f,h),k=c.add(k,k),i=c.mul(a,k),j=c.mul(e,o),j=c.add(i,j),i=c.sub(m,j),j=c.add(m,j),j=c.mul(i,j),i=c.mul(p,i),k=c.mul(e,k),o=c.mul(a,o),p=c.sub(l,o),p=c.mul(a,p),p=c.add(p,k),k=c.add(l,l),l=c.add(k,l),l=c.add(l,o),l=c.mul(l,p),j=c.add(j,l),o=c.mul(g,h),o=c.add(o,o),l=c.mul(o,p),i=c.sub(i,l),k=c.mul(o,m),k=c.add(k,k),new n(i,j,k=c.add(k,k))}add(a){m(a);let{px:d,py:e,pz:f}=this,{px:g,py:h,pz:i}=a,j=c.ZERO,k=c.ZERO,l=c.ZERO,o=b.a,p=c.mul(b.b,V),q=c.mul(d,g),r=c.mul(e,h),s=c.mul(f,i),t=c.add(d,e),u=c.add(g,h);t=c.mul(t,u),u=c.add(q,r),t=c.sub(t,u),u=c.add(d,f);let v=c.add(g,i);return u=c.mul(u,v),v=c.add(q,s),u=c.sub(u,v),v=c.add(e,f),j=c.add(h,i),v=c.mul(v,j),j=c.add(r,s),v=c.sub(v,j),l=c.mul(o,u),j=c.mul(p,s),l=c.add(j,l),j=c.sub(r,l),l=c.add(r,l),k=c.mul(j,l),r=c.add(q,q),r=c.add(r,q),s=c.mul(o,s),u=c.mul(p,u),r=c.add(r,s),s=c.sub(q,s),s=c.mul(o,s),u=c.add(u,s),q=c.mul(r,u),k=c.add(k,q),q=c.mul(v,u),j=c.mul(t,j),j=c.sub(j,q),q=c.mul(t,r),l=c.mul(v,l),new n(j,k,l=c.add(l,q))}subtract(a){return this.add(a.negate())}is0(){return this.equals(n.ZERO)}wNAF(a){return r.wNAFCached(this,k,a,a=>{let b=c.invertBatch(a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(n.fromAffine)})}multiplyUnsafe(a){let d=n.ZERO;if(a===T)return d;if(h(a),a===U)return this;let{endo:e}=b;if(!e)return r.unsafeLadder(this,a);let{k1neg:f,k1:g,k2neg:i,k2:j}=e.splitScalar(a),k=d,l=d,m=this;for(;g>T||j>T;)g&U&&(k=k.add(m)),j&U&&(l=l.add(m)),m=m.double(),g>>=U,j>>=U;return f&&(k=k.negate()),i&&(l=l.negate()),l=new n(c.mul(l.px,e.beta),l.py,l.pz),k.add(l)}multiply(a){let d,e;h(a);let{endo:f}=b;if(f){let{k1neg:b,k1:g,k2neg:h,k2:i}=f.splitScalar(a),{p:j,f:k}=this.wNAF(g),{p:l,f:m}=this.wNAF(i);j=r.constTimeNegate(b,j),l=r.constTimeNegate(h,l),l=new n(c.mul(l.px,f.beta),l.py,l.pz),d=j.add(l),e=k.add(m)}else{let{p:b,f:c}=this.wNAF(a);d=b,e=c}return n.normalizeZ([d,e])[0]}multiplyAndAddUnsafe(a,b,c){let d=n.BASE,e=(a,b)=>b!==T&&b!==U&&a.equals(d)?a.multiply(b):a.multiplyUnsafe(b),f=e(this,b).add(e(a,c));return f.is0()?void 0:f}toAffine(a){let{px:b,py:d,pz:e}=this,f=this.is0();null==a&&(a=f?c.ONE:c.inv(e));let g=c.mul(b,a),h=c.mul(d,a),i=c.mul(e,a);if(f)return{x:c.ZERO,y:c.ZERO};if(!c.eql(i,c.ONE))throw Error("invZ was invalid");return{x:g,y:h}}isTorsionFree(){let{h:a,isTorsionFree:c}=b;if(a===U)return!0;if(c)return c(n,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:a,clearCofactor:c}=b;return a===U?this:c?c(n,this):this.multiplyUnsafe(b.h)}toRawBytes(a=!0){return this.assertValidity(),d(n,this,a)}toHex(a=!0){return i(this.toRawBytes(a))}}n.BASE=new n(b.Gx,b.Gy,c.ONE),n.ZERO=new n(c.ZERO,c.ONE,c.ZERO);let o=b.nBitLength,r=function(a,b){let c=(a,b)=>{let c=b.negate();return a?c:b},d=a=>({windows:Math.ceil(b/a)+1,windowSize:2**(a-1)});return{constTimeNegate:c,unsafeLadder(b,c){let d=a.ZERO,e=b;for(;c>N;)c&O&&(d=d.add(e)),e=e.double(),c>>=O;return d},precomputeWindow(a,b){let{windows:c,windowSize:e}=d(b),f=[],g=a,h=g;for(let a=0;a<c;a++){h=g,f.push(h);for(let a=1;a<e;a++)h=h.add(g),f.push(h);g=h.double()}return f},wNAF(b,e,f){let{windows:g,windowSize:h}=d(b),i=a.ZERO,j=a.BASE,k=BigInt(2**b-1),l=2**b,m=BigInt(b);for(let a=0;a<g;a++){let b=a*h,d=Number(f&k);f>>=m,d>h&&(d-=l,f+=O);let g=b+Math.abs(d)-1,n=a%2!=0,o=d<0;0===d?j=j.add(c(n,e[b])):i=i.add(c(o,e[g]))}return{p:i,f:j}},wNAFCached(a,b,c,d){let e=a._WINDOW_SIZE||1,f=b.get(a);return f||(f=this.precomputeWindow(a,e),1!==e&&b.set(a,d(f))),this.wNAF(e,f,c)}}}(n,b.endo?Math.ceil(o/2):o);return{CURVE:b,ProjectivePoint:n,normPrivateKeyToScalar:j,weierstrassEquation:f,isWithinCurveOrder:g}}({...b,toBytes(a,b,d){let e=b.toAffine(),f=c.toBytes(e.x),g=q;return d?g(Uint8Array.from([b.hasEvenY()?2:3]),f):g(Uint8Array.from([4]),f,c.toBytes(e.y))},fromBytes(a){let b=a.length,d=a[0],g=a.subarray(1);if(b===e&&(2===d||3===d)){let a=l(g);if(!(T<a&&a<c.ORDER))throw Error("Point is not on curve");let b=s(a),e=c.sqrt(b);return(1&d)==1!=((e&U)===U)&&(e=c.neg(e)),{x:a,y:e}}if(b===f&&4===d)return{x:c.fromBytes(g.subarray(0,c.BYTES)),y:c.fromBytes(g.subarray(c.BYTES,2*c.BYTES))};throw Error(`Point of length ${b} was invalid. Expected ${e} compressed bytes or ${f} uncompressed bytes`)}}),v=a=>i(n(a,b.nByteLength)),x=(a,b,c)=>l(a.slice(b,c));class z{constructor(a,b,c){this.r=a,this.s=b,this.recovery=c,this.assertValidity()}static fromCompact(a){let c=b.nByteLength;return new z(x(a=p("compactSignature",a,2*c),0,c),x(a,c,2*c))}static fromDER(a){let{r:b,s:c}=S.toSig(p("DER",a));return new z(b,c)}assertValidity(){if(!t(this.r))throw Error("r must be 0 < r < CURVE.n");if(!t(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(a){return new z(this.r,this.s,a)}recoverPublicKey(a){let{r:e,s:f,recovery:i}=this,j=C(p("msgHash",a));if(null==i||![0,1,2,3].includes(i))throw Error("recovery id invalid");let k=2===i||3===i?e+b.n:e;if(k>=c.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&i)==0?"02":"03",m=h.fromHex(l+v(k)),n=G(k,d),o=g(-j*n),q=g(f*n),r=h.BASE.multiplyAndAddUnsafe(m,o,q);if(!r)throw Error("point at infinify");return r.assertValidity(),r}hasHighS(){return this.s>d>>U}normalizeS(){return this.hasHighS()?new z(this.r,g(-this.s),this.recovery):this}toDERRawBytes(){return k(this.toDERHex())}toDERHex(){return S.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return k(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}function A(a){let b=a instanceof Uint8Array,c="string"==typeof a,d=(b||c)&&a.length;return b?d===e||d===f:c?d===2*e||d===2*f:a instanceof h}let B=b.bits2int||function(a){let c=l(a),d=8*a.length-b.nBitLength;return d>0?c>>BigInt(d):c},C=b.bits2int_modN||function(a){return g(B(a))},D=r(b.nBitLength);function F(a){if("bigint"!=typeof a)throw Error("bigint expected");if(!(T<=a&&a<D))throw Error(`bigint expected < 2^${b.nBitLength}`);return n(a,b.nByteLength)}let H={lowS:b.lowS,prehash:!1},I={lowS:b.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:b,getPublicKey:function(a,b=!0){return h.fromPrivateKey(a).toRawBytes(b)},getSharedSecret:function(a,b,c=!0){if(A(a))throw Error("first arg must be private key");if(!A(b))throw Error("second arg must be public key");return h.fromHex(b).multiply(j(a)).toRawBytes(c)},sign:function(a,e,f=H){let{seed:i,k2sig:k}=function(a,e,f=H){if(["recovered","canonical"].some(a=>a in f))throw Error("sign() legacy options not supported");let{hash:i,randomBytes:k}=b,{lowS:l,prehash:m,extraEntropy:n}=f;null==l&&(l=!0),a=p("msgHash",a),m&&(a=p("prehashed msgHash",i(a)));let o=C(a),r=j(e),s=[F(r),F(o)];if(null!=n){let a=!0===n?k(c.BYTES):n;s.push(p("extraEntropy",a))}return{seed:q(...s),k2sig:function(a){var b;let c=B(a);if(!t(c))return;let e=G(c,d),f=h.BASE.multiply(c).toAffine(),i=g(f.x);if(i===T)return;let j=g(e*g(o+i*r));if(j===T)return;let k=2*(f.x!==i)|Number(f.y&U),m=j;return l&&j>d>>U&&(m=(b=j)>d>>U?g(-b):b,k^=1),new z(i,m,k)}}}(a,e,f);return u(b.hash.outputLen,b.nByteLength,b.hmac)(i,k)},verify:function(a,c,e,f=I){let i,j;if(c=p("msgHash",c),e=p("publicKey",e),"strict"in f)throw Error("options.strict was renamed to lowS");let{lowS:k,prehash:l}=f;try{if("string"==typeof a||a instanceof Uint8Array)try{j=z.fromDER(a)}catch(b){if(!(b instanceof S.Err))throw b;j=z.fromCompact(a)}else if("object"==typeof a&&"bigint"==typeof a.r&&"bigint"==typeof a.s){let{r:b,s:c}=a;j=new z(b,c)}else throw Error("PARSE");i=h.fromHex(e)}catch(a){if("PARSE"===a.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(k&&j.hasHighS())return!1;l&&(c=b.hash(c));let{r:m,s:n}=j,o=C(c),q=G(n,d),r=g(o*q),s=g(m*q),t=h.BASE.multiplyAndAddUnsafe(i,r,s)?.toAffine();return!!t&&g(t.x)===m},ProjectivePoint:h,Signature:z,utils:{isValidPrivateKey(a){try{return j(a),!0}catch(a){return!1}},normPrivateKeyToScalar:j,randomPrivateKey:()=>{let a=K(b.n);return function(a,b,c=!1){let d=a.length,e=J(b),f=K(b);if(d<16||d<f||d>1024)throw Error(`expected ${f}-1024 bytes of input, got ${d}`);let g=E(c?l(a):m(a),b-y)+y;return c?o(g,e):n(g,e)}(b.randomBytes(a),b.n)},precompute:(a=8,b=h.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}})({...a,...{hash:b,hmac:(a,...c)=>(0,L.w)(b,a,(0,M.Id)(...c)),randomBytes:M.po}});return Object.freeze({...c(b),create:c})}({a:BigInt(0),b:BigInt(7),Fp:_,n:X,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{let b=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-Y*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),e=BigInt("0x100000000000000000000000000000000"),f=$(b*a,X),g=$(-c*a,X),h=E(a-f*b-g*d,X),i=E(-f*c-g*b,X),j=h>e,k=i>e;if(j&&(h=X-h),k&&(i=X-i),h>e||i>e)throw Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:j,k1:h,k2neg:k,k2:i}}}},e.s);BigInt(0),aa.ProjectivePoint;var ab=c(5670),ac=c(9153),ad=c(4002),ae=c(4707);class af{#n;constructor(a){(0,ab.MR)(32===(0,ac.pO)(a),"invalid private key","privateKey","[REDACTED]"),this.#n=(0,ac.c$)(a)}get privateKey(){return this.#n}get publicKey(){return af.computePublicKey(this.#n)}get compressedPublicKey(){return af.computePublicKey(this.#n,!0)}sign(a){(0,ab.MR)(32===(0,ac.pO)(a),"invalid digest length","digest",a);let b=aa.sign((0,ac.Lm)(a),(0,ac.Lm)(this.#n),{lowS:!0});return ae.t.from({r:(0,ad.up)(b.r,32),s:(0,ad.up)(b.s,32),v:b.recovery?28:27})}computeSharedSecret(a){let b=af.computePublicKey(a);return(0,ac.c$)(aa.getSharedSecret((0,ac.Lm)(this.#n),(0,ac.q5)(b),!1))}static computePublicKey(a,b){let c=(0,ac.q5)(a,"key");if(32===c.length){let a=aa.getPublicKey(c,!!b);return(0,ac.c$)(a)}if(64===c.length){let a=new Uint8Array(65);a[0]=4,a.set(c,1),c=a}let d=aa.ProjectivePoint.fromHex(c);return(0,ac.c$)(d.toRawBytes(b))}static recoverPublicKey(a,b){(0,ab.MR)(32===(0,ac.pO)(a),"invalid digest length","digest",a);let c=ae.t.from(b),d=aa.Signature.fromCompact((0,ac.Lm)((0,ac.xW)([c.r,c.s]))),e=(d=d.addRecoveryBit(c.yParity)).recoverPublicKey((0,ac.Lm)(a));return(0,ab.MR)(null!=e,"invalid signature for digest","signature",b),"0x"+e.toHex(!1)}static addPoints(a,b,c){let d=aa.ProjectivePoint.fromHex(af.computePublicKey(a).substring(2)),e=aa.ProjectivePoint.fromHex(af.computePublicKey(b).substring(2));return"0x"+d.add(e).toHex(!!c)}}},4002:(a,b,c)=>{c.d(b,{Ab:()=>k,Dg:()=>n,JJ:()=>i,Ro:()=>p,ST:()=>h,WZ:()=>o,c4:()=>r,dK:()=>j,nD:()=>s,nm:()=>l,up:()=>q});var d=c(9153),e=c(5670);let f=BigInt(0),g=BigInt(1);function h(a,b){let c=l(a,"value"),d=BigInt(o(b,"width"));return((0,e.vA)(c>>d===f,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:a}),c>>d-g)?-((~c&(g<<d)-g)+g):c}function i(a,b){let c=k(a,"value"),d=BigInt(o(b,"width")),h=g<<d-g;return c<f?(c=-c,(0,e.vA)(c<=h,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:a}),(~c&(g<<d)-g)+g):((0,e.vA)(c<h,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:a}),c)}function j(a,b){return l(a,"value")&(g<<BigInt(o(b,"bits")))-g}function k(a,b){switch(typeof a){case"bigint":return a;case"number":return(0,e.MR)(Number.isInteger(a),"underflow",b||"value",a),(0,e.MR)(a>=-0x1fffffffffffff&&a<=0x1fffffffffffff,"overflow",b||"value",a),BigInt(a);case"string":try{if(""===a)throw Error("empty string");if("-"===a[0]&&"-"!==a[1])return-BigInt(a.substring(1));return BigInt(a)}catch(c){(0,e.MR)(!1,`invalid BigNumberish string: ${c.message}`,b||"value",a)}}(0,e.MR)(!1,"invalid BigNumberish value",b||"value",a)}function l(a,b){let c=k(a,b);return(0,e.vA)(c>=f,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:a}),c}let m="0123456789abcdef";function n(a){if(a instanceof Uint8Array){let b="0x0";for(let c of a)b+=m[c>>4],b+=m[15&c];return BigInt(b)}return k(a)}function o(a,b){switch(typeof a){case"bigint":return(0,e.MR)(a>=-0x1fffffffffffff&&a<=0x1fffffffffffff,"overflow",b||"value",a),Number(a);case"number":return(0,e.MR)(Number.isInteger(a),"underflow",b||"value",a),(0,e.MR)(a>=-0x1fffffffffffff&&a<=0x1fffffffffffff,"overflow",b||"value",a),a;case"string":try{if(""===a)throw Error("empty string");return o(BigInt(a),b)}catch(c){(0,e.MR)(!1,`invalid numeric string: ${c.message}`,b||"value",a)}}(0,e.MR)(!1,"invalid numeric value",b||"value",a)}function p(a){return o(n(a))}function q(a,b){let c=l(a,"value").toString(16);if(null==b)c.length%2&&(c="0"+c);else{let d=o(b,"width");for((0,e.vA)(2*d>=c.length,`value exceeds width (${d} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:a});c.length<2*d;)c="0"+c}return"0x"+c}function r(a){let b=l(a,"value");if(b===f)return new Uint8Array([]);let c=b.toString(16);c.length%2&&(c="0"+c);let d=new Uint8Array(c.length/2);for(let a=0;a<d.length;a++){let b=2*a;d[a]=parseInt(c.substring(b,b+2),16)}return d}function s(a){let b=(0,d.c$)((0,d.f)(a)?a:r(a)).substring(2);for(;b.startsWith("0");)b=b.substring(1);return""===b&&(b="0"),"0x"+b}},4176:(a,b,c)=>{c.d(b,{K:()=>g,x:()=>h});var d=c(6152),e=c(3562),f=c(7012);function g(a){let b;return b="string"==typeof a?e.h.computePublicKey(a,!1):a.publicKey,(0,d.b)((0,f.S)("0x"+b.substring(4)).substring(26))}function h(a,b){return g(e.h.recoverPublicKey(a,b))}},4211:(a,b,c)=>{c.d(b,{id:()=>f});var d=c(7012),e=c(6918);function f(a){return(0,d.S)((0,e.YW)(a))}},4261:(a,b,c)=>{c.d(b,{KA:()=>t});var d=c(7012),e=c(4211),f=c(3488),g=c(5670),h=c(9153),i=c(4002),j=c(5914),k=c(991),l=c(4499),m=c(2002);class n{fragment;name;signature;topic;args;constructor(a,b,c){let d=a.name,e=a.format();(0,f.n)(this,{fragment:a,name:d,signature:e,topic:b,args:c})}}class o{fragment;name;args;signature;selector;value;constructor(a,b,c,d){let e=a.name,g=a.format();(0,f.n)(this,{fragment:a,name:e,args:c,signature:g,selector:b,value:d})}}class p{fragment;name;args;signature;selector;constructor(a,b,c){let d=a.name,e=a.format();(0,f.n)(this,{fragment:a,name:d,args:c,signature:e,selector:b})}}class q{hash;_isIndexed;static isIndexed(a){return!!(a&&a._isIndexed)}constructor(a){(0,f.n)(this,{hash:a,_isIndexed:!0})}}let r={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},s={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:a=>`reverted with reason string ${JSON.stringify(a)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:a=>{let b="unknown panic code";return a>=0&&a<=255&&r[a.toString()]&&(b=r[a.toString()]),`reverted with panic code 0x${a.toString(16)} (${b})`}}};class t{fragments;deploy;fallback;receive;#o;#p;#q;#r;constructor(a){let b=[];b="string"==typeof a?JSON.parse(a):a,this.#q=new Map,this.#o=new Map,this.#p=new Map;let c=[];for(let a of b)try{c.push(l.FK.from(a))}catch(b){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,b.message)}(0,f.n)(this,{fragments:Object.freeze(c)});let d=null,e=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((a,b)=>{let c;switch(a.type){case"constructor":if(this.deploy)return void console.log("duplicate definition - constructor");(0,f.n)(this,{deploy:a});return;case"fallback":0===a.inputs.length?e=!0:((0,g.MR)(!d||a.payable!==d.payable,"conflicting fallback fragments",`fragments[${b}]`,a),e=(d=a).payable);return;case"function":c=this.#q;break;case"event":c=this.#p;break;case"error":c=this.#o;break;default:return}let h=a.format();c.has(h)||c.set(h,a)}),this.deploy||(0,f.n)(this,{deploy:l.Pw.from("constructor()")}),(0,f.n)(this,{fallback:d,receive:e})}format(a){let b=a?"minimal":"full";return this.fragments.map(a=>a.format(b))}formatJson(){return JSON.stringify(this.fragments.map(a=>a.format("json")).map(a=>JSON.parse(a)))}getAbiCoder(){return j.y.defaultAbiCoder()}#s(a,b,c){if((0,h.Lo)(a)){let b=a.toLowerCase();for(let a of this.#q.values())if(b===a.selector)return a;return null}if(-1===a.indexOf("(")){let d=[];for(let[b,c]of this.#q)b.split("(")[0]===a&&d.push(c);if(b){let a=b.length>0?b[b.length-1]:null,c=b.length,e=!0;m.V.isTyped(a)&&"overrides"===a.type&&(e=!1,c--);for(let a=d.length-1;a>=0;a--){let b=d[a].inputs.length;b===c||e&&b===c-1||d.splice(a,1)}for(let a=d.length-1;a>=0;a--){let c=d[a].inputs;for(let e=0;e<b.length;e++)if(m.V.isTyped(b[e])){if(e>=c.length){if("overrides"===b[e].type)continue;d.splice(a,1);break}if(b[e].type!==c[e].baseType){d.splice(a,1);break}}}}if(1===d.length&&b&&b.length!==d[0].inputs.length){let a=b[b.length-1];(null==a||Array.isArray(a)||"object"!=typeof a)&&d.splice(0,1)}if(0===d.length)return null;if(d.length>1&&c){let b=d.map(a=>JSON.stringify(a.format())).join(", ");(0,g.MR)(!1,`ambiguous function description (i.e. matches ${b})`,"key",a)}return d[0]}let d=this.#q.get(l.hc.from(a).format());return d||null}getFunctionName(a){let b=this.#s(a,null,!1);return(0,g.MR)(b,"no matching function","key",a),b.name}hasFunction(a){return!!this.#s(a,null,!1)}getFunction(a,b){return this.#s(a,b||null,!0)}forEachFunction(a){let b=Array.from(this.#q.keys());b.sort((a,b)=>a.localeCompare(b));for(let c=0;c<b.length;c++){let d=b[c];a(this.#q.get(d),c)}}#t(a,b,c){if((0,h.Lo)(a)){let b=a.toLowerCase();for(let a of this.#p.values())if(b===a.topicHash)return a;return null}if(-1===a.indexOf("(")){let d=[];for(let[b,c]of this.#p)b.split("(")[0]===a&&d.push(c);if(b){for(let a=d.length-1;a>=0;a--)d[a].inputs.length<b.length&&d.splice(a,1);for(let a=d.length-1;a>=0;a--){let c=d[a].inputs;for(let e=0;e<b.length;e++)if(m.V.isTyped(b[e])&&b[e].type!==c[e].baseType){d.splice(a,1);break}}}if(0===d.length)return null;if(d.length>1&&c){let b=d.map(a=>JSON.stringify(a.format())).join(", ");(0,g.MR)(!1,`ambiguous event description (i.e. matches ${b})`,"key",a)}return d[0]}let d=this.#p.get(l.Zp.from(a).format());return d||null}getEventName(a){let b=this.#t(a,null,!1);return(0,g.MR)(b,"no matching event","key",a),b.name}hasEvent(a){return!!this.#t(a,null,!1)}getEvent(a,b){return this.#t(a,b||null,!0)}forEachEvent(a){let b=Array.from(this.#p.keys());b.sort((a,b)=>a.localeCompare(b));for(let c=0;c<b.length;c++){let d=b[c];a(this.#p.get(d),c)}}getError(a,b){if((0,h.Lo)(a)){let b=a.toLowerCase();if(s[b])return l.bp.from(s[b].signature);for(let a of this.#o.values())if(b===a.selector)return a;return null}if(-1===a.indexOf("(")){let b=[];for(let[c,d]of this.#o)c.split("(")[0]===a&&b.push(d);if(0===b.length)return"Error"===a?l.bp.from("error Error(string)"):"Panic"===a?l.bp.from("error Panic(uint256)"):null;if(b.length>1){let c=b.map(a=>JSON.stringify(a.format())).join(", ");(0,g.MR)(!1,`ambiguous error description (i.e. ${c})`,"name",a)}return b[0]}if("Error(string)"===(a=l.bp.from(a).format()))return l.bp.from("error Error(string)");if("Panic(uint256)"===a)return l.bp.from("error Panic(uint256)");let c=this.#o.get(a);return c||null}forEachError(a){let b=Array.from(this.#o.keys());b.sort((a,b)=>a.localeCompare(b));for(let c=0;c<b.length;c++){let d=b[c];a(this.#o.get(d),c)}}_decodeParams(a,b){return this.#r.decode(a,b)}_encodeParams(a,b){return this.#r.encode(a,b)}encodeDeploy(a){return this._encodeParams(this.deploy.inputs,a||[])}decodeErrorResult(a,b){if("string"==typeof a){let b=this.getError(a);(0,g.MR)(b,"unknown error","fragment",a),a=b}return(0,g.MR)((0,h.ZG)(b,0,4)===a.selector,`data signature does not match error ${a.name}.`,"data",b),this._decodeParams(a.inputs,(0,h.ZG)(b,4))}encodeErrorResult(a,b){if("string"==typeof a){let b=this.getError(a);(0,g.MR)(b,"unknown error","fragment",a),a=b}return(0,h.xW)([a.selector,this._encodeParams(a.inputs,b||[])])}decodeFunctionData(a,b){if("string"==typeof a){let b=this.getFunction(a);(0,g.MR)(b,"unknown function","fragment",a),a=b}return(0,g.MR)((0,h.ZG)(b,0,4)===a.selector,`data signature does not match function ${a.name}.`,"data",b),this._decodeParams(a.inputs,(0,h.ZG)(b,4))}encodeFunctionData(a,b){if("string"==typeof a){let b=this.getFunction(a);(0,g.MR)(b,"unknown function","fragment",a),a=b}return(0,h.xW)([a.selector,this._encodeParams(a.inputs,b||[])])}decodeFunctionResult(a,b){if("string"==typeof a){let b=this.getFunction(a);(0,g.MR)(b,"unknown function","fragment",a),a=b}let c="invalid length for result data",d=(0,h.Lm)(b);if(d.length%32==0)try{return this.#r.decode(a.outputs,d)}catch(a){c="could not decode result data"}(0,g.vA)(!1,c,"BAD_DATA",{value:(0,h.c$)(d),info:{method:a.name,signature:a.format()}})}makeError(a,b){let c=(0,h.q5)(a,"data"),d=j.y.getBuiltinCallException("call",b,c);if(d.message.startsWith("execution reverted (unknown custom error)")){let a=(0,h.c$)(c.slice(0,4)),b=this.getError(a);if(b)try{let a=this.#r.decode(b.inputs,c.slice(4));d.revert={name:b.name,signature:b.format(),args:a},d.reason=d.revert.signature,d.message=`execution reverted: ${d.reason}`}catch(a){d.message="execution reverted (coult not decode custom error)"}}let e=this.parseTransaction(b);return e&&(d.invocation={method:e.name,signature:e.signature,args:e.args}),d}encodeFunctionResult(a,b){if("string"==typeof a){let b=this.getFunction(a);(0,g.MR)(b,"unknown function","fragment",a),a=b}return(0,h.c$)(this.#r.encode(a.outputs,b||[]))}encodeFilterTopics(a,b){if("string"==typeof a){let b=this.getEvent(a);(0,g.MR)(b,"unknown event","eventFragment",a),a=b}(0,g.vA)(b.length<=a.inputs.length,`too many arguments for ${a.format()}`,"UNEXPECTED_ARGUMENT",{count:b.length,expectedCount:a.inputs.length});let c=[];a.anonymous||c.push(a.topicHash);let f=(a,b)=>"string"===a.type?(0,e.id)(b):"bytes"===a.type?(0,d.S)((0,h.c$)(b)):("bool"===a.type&&"boolean"==typeof b?b=b?"0x01":"0x00":a.type.match(/^u?int/)?b=(0,i.up)(b):a.type.match(/^bytes/)?b=(0,h.X_)(b,32):"address"===a.type&&this.#r.encode(["address"],[b]),(0,h.nx)((0,h.c$)(b),32));for(b.forEach((b,d)=>{let e=a.inputs[d];if(!e.indexed)return void(0,g.MR)(null==b,"cannot filter non-indexed parameters; must be null","contract."+e.name,b);null==b?c.push(null):"array"===e.baseType||"tuple"===e.baseType?(0,g.MR)(!1,"filtering with tuples or arrays not supported","contract."+e.name,b):Array.isArray(b)?c.push(b.map(a=>f(e,a))):c.push(f(e,b))});c.length&&null===c[c.length-1];)c.pop();return c}encodeEventLog(a,b){if("string"==typeof a){let b=this.getEvent(a);(0,g.MR)(b,"unknown event","eventFragment",a),a=b}let c=[],f=[],h=[];return a.anonymous||c.push(a.topicHash),(0,g.MR)(b.length===a.inputs.length,"event arguments/values mismatch","values",b),a.inputs.forEach((a,g)=>{let i=b[g];if(a.indexed)if("string"===a.type)c.push((0,e.id)(i));else if("bytes"===a.type)c.push((0,d.S)(i));else if("tuple"===a.baseType||"array"===a.baseType)throw Error("not implemented");else c.push(this.#r.encode([a.type],[i]));else f.push(a),h.push(i)}),{data:this.#r.encode(f,h),topics:c}}decodeEventLog(a,b,c){if("string"==typeof a){let b=this.getEvent(a);(0,g.MR)(b,"unknown event","eventFragment",a),a=b}if(null!=c&&!a.anonymous){let b=a.topicHash;(0,g.MR)((0,h.Lo)(c[0],32)&&c[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",c[0]),c=c.slice(1)}let d=[],e=[],f=[];a.inputs.forEach((a,b)=>{a.indexed?"string"===a.type||"bytes"===a.type||"tuple"===a.baseType||"array"===a.baseType?(d.push(l.aX.from({type:"bytes32",name:a.name})),f.push(!0)):(d.push(a),f.push(!1)):(e.push(a),f.push(!1))});let i=null!=c?this.#r.decode(d,(0,h.xW)(c)):null,j=this.#r.decode(e,b,!0),m=[],n=[],o=0,p=0;return a.inputs.forEach((a,b)=>{let c=null;if(a.indexed)if(null==i)c=new q(null);else if(f[b])c=new q(i[p++]);else try{c=i[p++]}catch(a){c=a}else try{c=j[o++]}catch(a){c=a}m.push(c),n.push(a.name||null)}),k.Q7.fromItems(m,n)}parseTransaction(a){let b=(0,h.q5)(a.data,"tx.data"),c=(0,i.Ab)(null!=a.value?a.value:0,"tx.value"),d=this.getFunction((0,h.c$)(b.slice(0,4)));if(!d)return null;let e=this.#r.decode(d.inputs,b.slice(4));return new o(d,d.selector,e,c)}parseCallResult(a){throw Error("@TODO")}parseLog(a){let b=this.getEvent(a.topics[0]);return!b||b.anonymous?null:new n(b,b.topicHash,this.decodeEventLog(b,a.data,a.topics))}parseError(a){let b=(0,h.c$)(a),c=this.getError((0,h.ZG)(b,0,4));if(!c)return null;let d=this.#r.decode(c.inputs,(0,h.ZG)(b,4));return new p(c,c.selector,d)}static from(a){return a instanceof t?a:new t("string"==typeof a?JSON.parse(a):"function"==typeof a.formatJson?a.formatJson():"function"==typeof a.format?a.format("json"):a)}}},4280:(a,b,c)=>{c.d(b,{z:()=>e});var d=c(3488);class e{filter;emitter;#u;constructor(a,b,c){this.#u=b,(0,d.n)(this,{emitter:a,filter:c})}async removeListener(){null!=this.#u&&await this.emitter.off(this.filter,this.#u)}}},4499:(a,b,c)=>{c.d(b,{FK:()=>R,Pw:()=>W,Zp:()=>V,aX:()=>Q,bp:()=>U,hc:()=>Y});var d=c(4002),e=c(5670),f=c(3488),g=c(4211);function h(a){let b=new Set;return a.forEach(a=>b.add(a)),Object.freeze(b)}let i=h("external public payable override".split(" ")),j="constant external internal payable private public pure view override",k=h(j.split(" ")),l="constructor error event fallback function receive struct",m=h(l.split(" ")),n="calldata memory storage payable indexed",o=h(n.split(" ")),p=h([l,n,"tuple returns",j].join(" ").split(" ")),q={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},r=RegExp("^(\\s*)"),s=RegExp("^([0-9]+)"),t=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),u=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),v=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class w{#e;#v;get offset(){return this.#e}get length(){return this.#v.length-this.#e}constructor(a){this.#e=0,this.#v=a.slice()}clone(){return new w(this.#v)}reset(){this.#e=0}#w(a=0,b=0){return new w(this.#v.slice(a,b).map(b=>Object.freeze(Object.assign({},b,{match:b.match-a,linkBack:b.linkBack-a,linkNext:b.linkNext-a}))))}popKeyword(a){let b=this.peek();if("KEYWORD"!==b.type||!a.has(b.text))throw Error(`expected keyword ${b.text}`);return this.pop().text}popType(a){if(this.peek().type!==a){let b=this.peek();throw Error(`expected ${a}; got ${b.type} ${JSON.stringify(b.text)}`)}return this.pop().text}popParen(){let a=this.peek();if("OPEN_PAREN"!==a.type)throw Error("bad start");let b=this.#w(this.#e+1,a.match+1);return this.#e=a.match+1,b}popParams(){let a=this.peek();if("OPEN_PAREN"!==a.type)throw Error("bad start");let b=[];for(;this.#e<a.match-1;){let a=this.peek().linkNext;b.push(this.#w(this.#e+1,a)),this.#e=a}return this.#e=a.match+1,b}peek(){if(this.#e>=this.#v.length)throw Error("out-of-bounds");return this.#v[this.#e]}peekKeyword(a){let b=this.peekType("KEYWORD");return null!=b&&a.has(b)?b:null}peekType(a){if(0===this.length)return null;let b=this.peek();return b.type===a?b.text:null}pop(){let a=this.peek();return this.#e++,a}toString(){let a=[];for(let b=this.#e;b<this.#v.length;b++){let c=this.#v[b];a.push(`${c.type}:${c.text}`)}return`<TokenString ${a.join(" ")}>`}}function x(a){let b=[],c=b=>{let c=g<a.length?JSON.stringify(a[g]):"$EOI";throw Error(`invalid token ${c} at ${g}: ${b}`)},e=[],f=[],g=0;for(;g<a.length;){let h=a.substring(g),i=h.match(r);i&&(g+=i[1].length,h=a.substring(g));let j={depth:e.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:g,value:-1};b.push(j);let k=q[h[0]]||"";if(k){if(j.type=k,j.text=h[0],g++,"OPEN_PAREN"===k)e.push(b.length-1),f.push(b.length-1);else if("CLOSE_PAREN"==k)0===e.length&&c("no matching open bracket"),j.match=e.pop(),b[j.match].match=b.length-1,j.depth--,j.linkBack=f.pop(),b[j.linkBack].linkNext=b.length-1;else if("COMMA"===k)j.linkBack=f.pop(),b[j.linkBack].linkNext=b.length-1,f.push(b.length-1);else if("OPEN_BRACKET"===k)j.type="BRACKET";else if("CLOSE_BRACKET"===k){let a=b.pop().text;if(b.length>0&&"NUMBER"===b[b.length-1].type){let c=b.pop().text;a=c+a,b[b.length-1].value=(0,d.WZ)(c)}if(0===b.length||"BRACKET"!==b[b.length-1].type)throw Error("missing opening bracket");b[b.length-1].text+=a}continue}if(i=h.match(t)){if(j.text=i[1],g+=j.text.length,p.has(j.text)){j.type="KEYWORD";continue}if(j.text.match(v)){j.type="TYPE";continue}j.type="ID";continue}if(i=h.match(s)){j.text=i[1],j.type="NUMBER",g+=j.text.length;continue}throw Error(`unexpected token ${JSON.stringify(h[0])} at position ${g}`)}return new w(b.map(a=>Object.freeze(a)))}function y(a,b){let c=[];for(let d in b.keys())a.has(d)&&c.push(d);if(c.length>1)throw Error(`conflicting types: ${c.join(", ")}`)}function z(a,b){if(b.peekKeyword(m)){let c=b.pop().text;if(c!==a)throw Error(`expected ${a}, got ${c}`)}return b.popType("ID")}function A(a,b){let c=new Set;for(;;){let d=a.peekType("KEYWORD");if(null==d||b&&!b.has(d))break;if(a.pop(),c.has(d))throw Error(`duplicate keywords: ${JSON.stringify(d)}`);c.add(d)}return Object.freeze(c)}function B(a){let b=A(a,k);return(y(b,h("constant payable nonpayable".split(" "))),y(b,h("pure view payable nonpayable".split(" "))),b.has("view"))?"view":b.has("pure")?"pure":b.has("payable")?"payable":b.has("nonpayable")?"nonpayable":b.has("constant")?"view":"nonpayable"}function C(a,b){return a.popParams().map(a=>Q.from(a,b))}function D(a){if(a.peekType("AT")){if(a.pop(),a.peekType("NUMBER"))return(0,d.Ab)(a.pop().text);throw Error("invalid gas")}return null}function E(a){if(a.length)throw Error(`unexpected tokens at offset ${a.offset}: ${a.toString()}`)}let F=new RegExp(/^(.*)\[([0-9]*)\]$/);function G(a){let b=a.match(v);if((0,e.MR)(b,"invalid type","type",a),"uint"===a)return"uint256";if("int"===a)return"int256";if(b[2]){let c=parseInt(b[2]);(0,e.MR)(0!==c&&c<=32,"invalid bytes length","type",a)}else if(b[3]){let c=parseInt(b[3]);(0,e.MR)(0!==c&&c<=256&&c%8==0,"invalid numeric width","type",a)}return a}let H={},I=Symbol.for("_ethers_internal"),J="_ParamTypeInternal",K="_ErrorInternal",L="_EventInternal",M="_ConstructorInternal",N="_FallbackInternal",O="_FunctionInternal",P="_StructInternal";class Q{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(a,b,c,d,g,h,i,j){if((0,e.gk)(a,H,"ParamType"),Object.defineProperty(this,I,{value:J}),h&&(h=Object.freeze(h.slice())),"array"===d){if(null==i||null==j)throw Error("")}else if(null!=i||null!=j)throw Error("");if("tuple"===d){if(null==h)throw Error("")}else if(null!=h)throw Error("");(0,f.n)(this,{name:b,type:c,baseType:d,indexed:g,components:h,arrayLength:i,arrayChildren:j})}format(a){if(null==a&&(a="sighash"),"json"===a){let b=this.name||"";if(this.isArray()){let a=JSON.parse(this.arrayChildren.format("json"));return a.name=b,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}let c={type:"tuple"===this.baseType?"tuple":this.type,name:b};return"boolean"==typeof this.indexed&&(c.indexed=this.indexed),this.isTuple()&&(c.components=this.components.map(b=>JSON.parse(b.format(a)))),JSON.stringify(c)}let b="";return this.isArray()?(b+=this.arrayChildren.format(a),b+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?b+="("+this.components.map(b=>b.format(a)).join("full"===a?", ":",")+")":b+=this.type,"sighash"!==a&&(!0===this.indexed&&(b+=" indexed"),"full"===a&&this.name&&(b+=" "+this.name)),b}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(a,b){if(this.isArray()){if(!Array.isArray(a))throw Error("invalid array value");if(-1!==this.arrayLength&&a.length!==this.arrayLength)throw Error("array is wrong length");let c=this;return a.map(a=>c.arrayChildren.walk(a,b))}if(this.isTuple()){if(!Array.isArray(a))throw Error("invalid tuple value");if(a.length!==this.components.length)throw Error("array is wrong length");let c=this;return a.map((a,d)=>c.components[d].walk(a,b))}return b(this.type,a)}#x(a,b,c,d){if(this.isArray()){if(!Array.isArray(b))throw Error("invalid array value");if(-1!==this.arrayLength&&b.length!==this.arrayLength)throw Error("array is wrong length");let e=this.arrayChildren,f=b.slice();f.forEach((b,d)=>{e.#x(a,b,c,a=>{f[d]=a})}),d(f);return}if(this.isTuple()){let e,f=this.components;if(Array.isArray(b))e=b.slice();else{if(null==b||"object"!=typeof b)throw Error("invalid tuple value");e=f.map(a=>{if(!a.name)throw Error("cannot use object value with unnamed components");if(!(a.name in b))throw Error(`missing value for component ${a.name}`);return b[a.name]})}if(e.length!==this.components.length)throw Error("array is wrong length");e.forEach((b,d)=>{f[d].#x(a,b,c,a=>{e[d]=a})}),d(e);return}let e=c(this.type,b);e.then?a.push(async function(){d(await e)}()):d(e)}async walkAsync(a,b){let c=[],d=[a];return this.#x(c,a,b,a=>{d[0]=a}),c.length&&await Promise.all(c),d[0]}static from(a,b){if(Q.isParamType(a))return a;if("string"==typeof a)try{return Q.from(x(a),b)}catch(b){(0,e.MR)(!1,"invalid param type","obj",a)}else if(a instanceof w){let c="",d="",e=null;A(a,h(["tuple"])).has("tuple")||a.peekType("OPEN_PAREN")?(d="tuple",e=a.popParams().map(a=>Q.from(a)),c=`tuple(${e.map(a=>a.format()).join(",")})`):d=c=G(a.popType("TYPE"));let f=null,g=null;for(;a.length&&a.peekType("BRACKET");){let b=a.pop();f=new Q(H,"",c,d,null,e,g,f),g=b.value,c+=b.text,d="array",e=null}let i=null;if(A(a,o).has("indexed")){if(!b)throw Error("");i=!0}let j=a.peekType("ID")?a.pop().text:"";if(a.length)throw Error("leftover tokens");return new Q(H,j,c,d,i,e,g,f)}let c=a.name;(0,e.MR)(!c||"string"==typeof c&&c.match(u),"invalid name","obj.name",c);let d=a.indexed;null!=d&&((0,e.MR)(b,"parameter cannot be indexed","obj.indexed",a.indexed),d=!!d);let f=a.type,g=f.match(F);if(g){let b=parseInt(g[2]||"-1"),e=Q.from({type:g[1],components:a.components});return new Q(H,c||"",f,"array",d,null,b,e)}if("tuple"===f||f.startsWith("tuple(")||f.startsWith("(")){let b=null!=a.components?a.components.map(a=>Q.from(a)):null;return new Q(H,c||"",f,"tuple",d,b,null,null)}return new Q(H,c||"",f=G(a.type),f,d,null,null,null)}static isParamType(a){return a&&a[I]===J}}class R{type;inputs;constructor(a,b,c){(0,e.gk)(a,H,"Fragment"),c=Object.freeze(c.slice()),(0,f.n)(this,{type:b,inputs:c})}static from(a){if("string"==typeof a){try{R.from(JSON.parse(a))}catch(a){}return R.from(x(a))}if(a instanceof w)switch(a.peekKeyword(m)){case"constructor":return W.from(a);case"error":return U.from(a);case"event":return V.from(a);case"fallback":case"receive":return X.from(a);case"function":return Y.from(a);case"struct":return Z.from(a)}else if("object"==typeof a){switch(a.type){case"constructor":return W.from(a);case"error":return U.from(a);case"event":return V.from(a);case"fallback":case"receive":return X.from(a);case"function":return Y.from(a);case"struct":return Z.from(a)}(0,e.vA)(!1,`unsupported type: ${a.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,e.MR)(!1,"unsupported frgament object","obj",a)}static isConstructor(a){return W.isFragment(a)}static isError(a){return U.isFragment(a)}static isEvent(a){return V.isFragment(a)}static isFunction(a){return Y.isFragment(a)}static isStruct(a){return Z.isFragment(a)}}class S extends R{name;constructor(a,b,c,d){super(a,b,d),(0,e.MR)("string"==typeof c&&c.match(u),"invalid identifier","name",c),d=Object.freeze(d.slice()),(0,f.n)(this,{name:c})}}function T(a,b){return"("+b.map(b=>b.format(a)).join("full"===a?", ":",")+")"}class U extends S{constructor(a,b,c){super(a,"error",b,c),Object.defineProperty(this,I,{value:K})}get selector(){return(0,g.id)(this.format("sighash")).substring(0,10)}format(a){if(null==a&&(a="sighash"),"json"===a)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(b=>JSON.parse(b.format(a)))});let b=[];return"sighash"!==a&&b.push("error"),b.push(this.name+T(a,this.inputs)),b.join(" ")}static from(a){if(U.isFragment(a))return a;if("string"==typeof a)return U.from(x(a));if(a instanceof w){let b=z("error",a),c=C(a);return E(a),new U(H,b,c)}return new U(H,a.name,a.inputs?a.inputs.map(Q.from):[])}static isFragment(a){return a&&a[I]===K}}class V extends S{anonymous;constructor(a,b,c,d){super(a,"event",b,c),Object.defineProperty(this,I,{value:L}),(0,f.n)(this,{anonymous:d})}get topicHash(){return(0,g.id)(this.format("sighash"))}format(a){if(null==a&&(a="sighash"),"json"===a)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(b=>JSON.parse(b.format(a)))});let b=[];return"sighash"!==a&&b.push("event"),b.push(this.name+T(a,this.inputs)),"sighash"!==a&&this.anonymous&&b.push("anonymous"),b.join(" ")}static getTopicHash(a,b){return new V(H,a,b=(b||[]).map(a=>Q.from(a)),!1).topicHash}static from(a){if(V.isFragment(a))return a;if("string"==typeof a)try{return V.from(x(a))}catch(b){(0,e.MR)(!1,"invalid event fragment","obj",a)}else if(a instanceof w){let b=z("event",a),c=C(a,!0),d=!!A(a,h(["anonymous"])).has("anonymous");return E(a),new V(H,b,c,d)}return new V(H,a.name,a.inputs?a.inputs.map(a=>Q.from(a,!0)):[],!!a.anonymous)}static isFragment(a){return a&&a[I]===L}}class W extends R{payable;gas;constructor(a,b,c,d,e){super(a,b,c),Object.defineProperty(this,I,{value:M}),(0,f.n)(this,{payable:d,gas:e})}format(a){if((0,e.vA)(null!=a&&"sighash"!==a,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===a)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(b=>JSON.parse(b.format(a)))});let b=[`constructor${T(a,this.inputs)}`];return this.payable&&b.push("payable"),null!=this.gas&&b.push(`@${this.gas.toString()}`),b.join(" ")}static from(a){if(W.isFragment(a))return a;if("string"==typeof a)try{return W.from(x(a))}catch(b){(0,e.MR)(!1,"invalid constuctor fragment","obj",a)}else if(a instanceof w){A(a,h(["constructor"]));let b=C(a),c=!!A(a,i).has("payable"),d=D(a);return E(a),new W(H,"constructor",b,c,d)}return new W(H,"constructor",a.inputs?a.inputs.map(Q.from):[],!!a.payable,null!=a.gas?a.gas:null)}static isFragment(a){return a&&a[I]===M}}class X extends R{payable;constructor(a,b,c){super(a,"fallback",b),Object.defineProperty(this,I,{value:N}),(0,f.n)(this,{payable:c})}format(a){let b=0===this.inputs.length?"receive":"fallback";return"json"===a?JSON.stringify({type:b,stateMutability:this.payable?"payable":"nonpayable"}):`${b}()${this.payable?" payable":""}`}static from(a){if(X.isFragment(a))return a;if("string"==typeof a)try{return X.from(x(a))}catch(b){(0,e.MR)(!1,"invalid fallback fragment","obj",a)}else if(a instanceof w){let b=a.toString(),c=a.peekKeyword(h(["fallback","receive"]));if((0,e.MR)(c,"type must be fallback or receive","obj",b),"receive"===a.popKeyword(h(["fallback","receive"]))){let b=C(a);return(0,e.MR)(0===b.length,"receive cannot have arguments","obj.inputs",b),A(a,h(["payable"])),E(a),new X(H,[],!0)}let d=C(a);d.length?(0,e.MR)(1===d.length&&"bytes"===d[0].type,"invalid fallback inputs","obj.inputs",d.map(a=>a.format("minimal")).join(", ")):d=[Q.from("bytes")];let f=B(a);if((0,e.MR)("nonpayable"===f||"payable"===f,"fallback cannot be constants","obj.stateMutability",f),A(a,h(["returns"])).has("returns")){let b=C(a);(0,e.MR)(1===b.length&&"bytes"===b[0].type,"invalid fallback outputs","obj.outputs",b.map(a=>a.format("minimal")).join(", "))}return E(a),new X(H,d,"payable"===f)}return"receive"===a.type?new X(H,[],!0):"fallback"===a.type?new X(H,[Q.from("bytes")],"payable"===a.stateMutability):void(0,e.MR)(!1,"invalid fallback description","obj",a)}static isFragment(a){return a&&a[I]===N}}class Y extends S{constant;outputs;stateMutability;payable;gas;constructor(a,b,c,d,e,g){super(a,"function",b,d),Object.defineProperty(this,I,{value:O}),e=Object.freeze(e.slice()),(0,f.n)(this,{constant:"view"===c||"pure"===c,gas:g,outputs:e,payable:"payable"===c,stateMutability:c})}get selector(){return(0,g.id)(this.format("sighash")).substring(0,10)}format(a){if(null==a&&(a="sighash"),"json"===a)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(b=>JSON.parse(b.format(a))),outputs:this.outputs.map(b=>JSON.parse(b.format(a)))});let b=[];return"sighash"!==a&&b.push("function"),b.push(this.name+T(a,this.inputs)),"sighash"!==a&&("nonpayable"!==this.stateMutability&&b.push(this.stateMutability),this.outputs&&this.outputs.length&&(b.push("returns"),b.push(T(a,this.outputs))),null!=this.gas&&b.push(`@${this.gas.toString()}`)),b.join(" ")}static getSelector(a,b){return new Y(H,a,"view",b=(b||[]).map(a=>Q.from(a)),[],null).selector}static from(a){if(Y.isFragment(a))return a;if("string"==typeof a)try{return Y.from(x(a))}catch(b){(0,e.MR)(!1,"invalid function fragment","obj",a)}else if(a instanceof w){let b=z("function",a),c=C(a),d=B(a),e=[];A(a,h(["returns"])).has("returns")&&(e=C(a));let f=D(a);return E(a),new Y(H,b,d,c,e,f)}let b=a.stateMutability;return null==b&&(b="payable","boolean"==typeof a.constant?(b="view",!a.constant&&(b="payable","boolean"!=typeof a.payable||a.payable||(b="nonpayable"))):"boolean"!=typeof a.payable||a.payable||(b="nonpayable")),new Y(H,a.name,b,a.inputs?a.inputs.map(Q.from):[],a.outputs?a.outputs.map(Q.from):[],null!=a.gas?a.gas:null)}static isFragment(a){return a&&a[I]===O}}class Z extends S{constructor(a,b,c){super(a,"struct",b,c),Object.defineProperty(this,I,{value:P})}format(){throw Error("@TODO")}static from(a){if("string"==typeof a)try{return Z.from(x(a))}catch(b){(0,e.MR)(!1,"invalid struct fragment","obj",a)}else if(a instanceof w){let b=z("struct",a),c=C(a);return E(a),new Z(H,b,c)}return new Z(H,a.name,a.inputs?a.inputs.map(Q.from):[])}static isFragment(a){return a&&a[I]===P}}},4707:(a,b,c)=>{c.d(b,{t:()=>p});var d=c(8325),e=c(9153),f=c(4002),g=c(5670);let h=BigInt(0),i=BigInt(1),j=BigInt(2),k=BigInt(27),l=BigInt(28),m=BigInt(35),n={};function o(a){return(0,e.nx)((0,f.c4)(a),32)}class p{#y;#z;#A;#B;get r(){return this.#y}set r(a){(0,g.MR)(32===(0,e.pO)(a),"invalid r","value",a),this.#y=(0,e.c$)(a)}get s(){return(0,g.MR)(8>parseInt(this.#z.substring(0,3)),"non-canonical s; use ._s","s",this.#z),this.#z}set s(a){(0,g.MR)(32===(0,e.pO)(a),"invalid s","value",a),this.#z=(0,e.c$)(a)}get _s(){return this.#z}isValid(){return 8>parseInt(this.#z.substring(0,3))}get v(){return this.#A}set v(a){let b=(0,f.WZ)(a,"value");(0,g.MR)(27===b||28===b,"invalid v","v",a),this.#A=b}get networkV(){return this.#B}get legacyChainId(){let a=this.networkV;return null==a?null:p.getChainId(a)}get yParity(){return+(27!==this.v)}get yParityAndS(){let a=(0,e.q5)(this.s);return this.yParity&&(a[0]|=128),(0,e.c$)(a)}get compactSerialized(){return(0,e.xW)([this.r,this.yParityAndS])}get serialized(){return(0,e.xW)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(a,b,c,d){(0,g.gk)(a,n,"Signature"),this.#y=b,this.#z=c,this.#A=d,this.#B=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let a=new p(n,this.r,this._s,this.v);return this.networkV&&(a.#B=this.networkV),a}toJSON(){let a=this.networkV;return{_type:"signature",networkV:null!=a?a.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(a){let b=(0,f.Ab)(a,"v");return b==k||b==l?h:((0,g.MR)(b>=m,"invalid EIP-155 v","v",a),(b-m)/j)}static getChainIdV(a,b){return(0,f.Ab)(a)*j+BigInt(35+b-27)}static getNormalizedV(a){let b=(0,f.Ab)(a);return b===h||b===k?27:b===i||b===l?28:((0,g.MR)(b>=m,"invalid v","v",a),b&i?27:28)}static from(a){function b(b,c){(0,g.MR)(b,c,"signature",a)}if(null==a)return new p(n,d.p,d.p,27);if("string"==typeof a){let c=(0,e.q5)(a,"signature");if(64===c.length){let a=(0,e.c$)(c.slice(0,32)),b=c.slice(32,64),d=128&b[0]?28:27;return b[0]&=127,new p(n,a,(0,e.c$)(b),d)}if(65===c.length){let a=(0,e.c$)(c.slice(0,32)),b=(0,e.c$)(c.slice(32,64)),d=p.getNormalizedV(c[64]);return new p(n,a,b,d)}b(!1,"invalid raw signature length")}if(a instanceof p)return a.clone();let c=a.r;b(null!=c,"missing r");let h=o(c),i=function(a,c){if(null!=a)return o(a);if(null!=c){b((0,e.Lo)(c,32),"invalid yParityAndS");let a=(0,e.q5)(c);return a[0]&=127,(0,e.c$)(a)}b(!1,"missing s")}(a.s,a.yParityAndS),{networkV:j,v:k}=function(a,c,d){if(null!=a){let b=(0,f.Ab)(a);return{networkV:b>=m?b:void 0,v:p.getNormalizedV(b)}}if(null!=c)return b((0,e.Lo)(c,32),"invalid yParityAndS"),{v:128&(0,e.q5)(c)[0]?28:27};if(null!=d){switch((0,f.WZ)(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}b(!1,"invalid yParity")}b(!1,"missing v")}(a.v,a.yParityAndS,a.yParity),l=new p(n,h,i,k);return j&&(l.#B=j),b(null==a.yParity||(0,f.WZ)(a.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),b(null==a.yParityAndS||a.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}}},5670:(a,b,c)=>{c.d(b,{E:()=>h,MR:()=>k,SP:()=>n,bJ:()=>g,dd:()=>l,gk:()=>o,vA:()=>j,xz:()=>i});var d=c(1044),e=c(3488);function f(a,b){if(null==a)return"null";if(null==b&&(b=new Set),"object"==typeof a){if(b.has(a))return"[Circular]";b.add(a)}if(Array.isArray(a))return"[ "+a.map(a=>f(a,b)).join(", ")+" ]";if(a instanceof Uint8Array){let b="0123456789abcdef",c="0x";for(let d=0;d<a.length;d++)c+=b[a[d]>>4],c+=b[15&a[d]];return c}if("object"==typeof a&&"function"==typeof a.toJSON)return f(a.toJSON(),b);switch(typeof a){case"boolean":case"number":case"symbol":return a.toString();case"bigint":return BigInt(a).toString();case"string":return JSON.stringify(a);case"object":{let c=Object.keys(a);return c.sort(),"{ "+c.map(c=>`${f(c,b)}: ${f(a[c],b)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function g(a,b){return a&&a.code===b}function h(a){return g(a,"CALL_EXCEPTION")}function i(a,b,c){let g,h=a;{let e=[];if(c){if("message"in c||"code"in c||"name"in c)throw Error(`value will overwrite populated values: ${f(c)}`);for(let a in c){if("shortMessage"===a)continue;let b=c[a];e.push(a+"="+f(b))}}e.push(`code=${b}`),e.push(`version=${d.r}`),e.length&&(a+=" ("+e.join(", ")+")")}switch(b){case"INVALID_ARGUMENT":g=TypeError(a);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":g=RangeError(a);break;default:g=Error(a)}return(0,e.n)(g,{code:b}),c&&Object.assign(g,c),null==g.shortMessage&&(0,e.n)(g,{shortMessage:h}),g}function j(a,b,c,d){if(!a)throw i(b,c,d)}function k(a,b,c,d){j(a,b,"INVALID_ARGUMENT",{argument:c,value:d})}function l(a,b,c){null==c&&(c=""),c&&(c=": "+c),j(a>=b,"missing argument"+c,"MISSING_ARGUMENT",{count:a,expectedCount:b}),j(a<=b,"too many arguments"+c,"UNEXPECTED_ARGUMENT",{count:a,expectedCount:b})}let m=["NFD","NFC","NFKD","NFKC"].reduce((a,b)=>{try{if("test"!=="test".normalize(b))throw Error("bad");if("NFD"===b){let a=String.fromCharCode(233).normalize("NFD"),b=String.fromCharCode(101,769);if(a!==b)throw Error("broken")}a.push(b)}catch(a){}return a},[]);function n(a){j(m.indexOf(a)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:a}})}function o(a,b,c){if(null==c&&(c=""),a!==b){let a=c,b="new";c&&(a+=".",b+=" "+c),j(!1,`private constructor; use ${a}from* methods`,"UNSUPPORTED_OPERATION",{operation:b})}}},5864:(a,b,c)=>{c.d(b,{$:()=>h});var d=c(6152),e=c(5670),f=c(9153);function g(a,b){return{address:(0,d.b)(a),storageKeys:b.map((a,b)=>((0,e.MR)((0,f.Lo)(a,32),"invalid slot",`storageKeys[${b}]`,a),a.toLowerCase()))}}function h(a){if(Array.isArray(a))return a.map((b,c)=>Array.isArray(b)?((0,e.MR)(2===b.length,"invalid slot set",`value[${c}]`,b),g(b[0],b[1])):((0,e.MR)(null!=b&&"object"==typeof b,"invalid address-slot set","value",a),g(b.address,b.storageKeys)));(0,e.MR)(null!=a&&"object"==typeof a,"invalid access list","value",a);let b=Object.keys(a).map(b=>{let c=a[b].reduce((a,b)=>(a[b]=!0,a),{});return g(b,Object.keys(c).sort())});return b.sort((a,b)=>a.address.localeCompare(b.address)),b}},5914:(a,b,c)=>{c.d(b,{y:()=>I});var d=c(5670),e=c(991),f=c(6152),g=c(4002),h=c(2002);class i extends e.Ue{constructor(a){super("address","address",a,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(a,b){let c=h.V.dereference(b,"string");try{c=(0,f.b)(c)}catch(a){return this._throwError(a.message,b)}return a.writeValue(c)}decode(a){return(0,f.b)((0,g.up)(a.readValue(),20))}}var j=c(3488);class k extends e.Ue{coder;constructor(a){super(a.name,a.type,"_",a.dynamic),this.coder=a}defaultValue(){return this.coder.defaultValue()}encode(a,b){return this.coder.encode(a,b)}decode(a){return this.coder.decode(a)}}function l(a,b,c){let f=[];if(Array.isArray(c))f=c;else if(c&&"object"==typeof c){let a={};f=b.map(b=>{let e=b.localName;return(0,d.vA)(e,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:b},value:c}),(0,d.vA)(!a[e],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:b},value:c}),a[e]=!0,c[e]})}else(0,d.MR)(!1,"invalid tuple value","tuple",c);(0,d.MR)(b.length===f.length,"types/value length mismatch","tuple",c);let g=new e.AU,h=new e.AU,i=[];b.forEach((a,b)=>{let c=f[b];if(a.dynamic){let b=h.length;a.encode(h,c);let d=g.writeUpdatableValue();i.push(a=>{d(a+b)})}else a.encode(g,c)}),i.forEach(a=>{a(g.length)});let j=a.appendWriter(g);return j+a.appendWriter(h)}function m(a,b){let c=[],f=[],g=a.subReader(0);return b.forEach(b=>{let e=null;if(b.dynamic){let c=a.readIndex(),f=g.subReader(c);try{e=b.decode(f)}catch(a){if((0,d.bJ)(a,"BUFFER_OVERRUN"))throw a;(e=a).baseType=b.name,e.name=b.localName,e.type=b.type}}else try{e=b.decode(a)}catch(a){if((0,d.bJ)(a,"BUFFER_OVERRUN"))throw a;(e=a).baseType=b.name,e.name=b.localName,e.type=b.type}if(void 0==e)throw Error("investigate");c.push(e),f.push(b.localName||null)}),e.Q7.fromItems(c,f)}class n extends e.Ue{coder;length;constructor(a,b,c){super("array",a.type+"["+(b>=0?b:"")+"]",c,-1===b||a.dynamic),(0,j.n)(this,{coder:a,length:b})}defaultValue(){let a=this.coder.defaultValue(),b=[];for(let c=0;c<this.length;c++)b.push(a);return b}encode(a,b){let c=h.V.dereference(b,"array");Array.isArray(c)||this._throwError("expected array value",c);let e=this.length;-1===e&&(e=c.length,a.writeValue(c.length)),(0,d.dd)(c.length,e,"coder array"+(this.localName?" "+this.localName:""));let f=[];for(let a=0;a<c.length;a++)f.push(this.coder);return l(a,f,c)}decode(a){let b=this.length;-1===b&&(b=a.readIndex(),(0,d.vA)(b*e.Yx<=a.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:a.bytes,offset:b*e.Yx,length:a.dataLength}));let c=[];for(let a=0;a<b;a++)c.push(new k(this.coder));return m(a,c)}}class o extends e.Ue{constructor(a){super("bool","bool",a,!1)}defaultValue(){return!1}encode(a,b){let c=h.V.dereference(b,"bool");return a.writeValue(+!!c)}decode(a){return!!a.readValue()}}var p=c(9153);class q extends e.Ue{constructor(a,b){super(a,a,b,!0)}defaultValue(){return"0x"}encode(a,b){b=(0,p.Lm)(b);let c=a.writeValue(b.length);return c+a.writeBytes(b)}decode(a){return a.readBytes(a.readIndex(),!0)}}class r extends q{constructor(a){super("bytes",a)}decode(a){return(0,p.c$)(super.decode(a))}}class s extends e.Ue{size;constructor(a,b){let c="bytes"+String(a);super(c,c,b,!1),(0,j.n)(this,{size:a},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(a,b){let c=(0,p.Lm)(h.V.dereference(b,this.type));return c.length!==this.size&&this._throwError("incorrect data length",b),a.writeBytes(c)}decode(a){return(0,p.c$)(a.readBytes(this.size))}}let t=new Uint8Array([]);class u extends e.Ue{constructor(a){super("null","",a,!1)}defaultValue(){return null}encode(a,b){return null!=b&&this._throwError("not null",b),a.writeBytes(t)}decode(a){return a.readBytes(0),null}}let v=BigInt(0),w=BigInt(1),x=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class y extends e.Ue{size;signed;constructor(a,b,c){let d=(b?"int":"uint")+8*a;super(d,d,c,!1),(0,j.n)(this,{size:a,signed:b},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(a,b){let c=(0,g.Ab)(h.V.dereference(b,this.type)),d=(0,g.dK)(x,8*e.Yx);if(this.signed){let a=(0,g.dK)(d,8*this.size-1);(c>a||c<-(a+w))&&this._throwError("value out-of-bounds",b),c=(0,g.JJ)(c,8*e.Yx)}else(c<v||c>(0,g.dK)(d,8*this.size))&&this._throwError("value out-of-bounds",b);return a.writeValue(c)}decode(a){let b=(0,g.dK)(a.readValue(),8*this.size);return this.signed&&(b=(0,g.ST)(b,8*this.size)),b}}var z=c(6918);class A extends q{constructor(a){super("string",a)}defaultValue(){return""}encode(a,b){return super.encode(a,(0,z.YW)(h.V.dereference(b,"string")))}decode(a){return(0,z._v)(super.decode(a))}}class B extends e.Ue{coders;constructor(a,b){let c=!1,d=[];a.forEach(a=>{a.dynamic&&(c=!0),d.push(a.type)}),super("tuple","tuple("+d.join(",")+")",b,c),(0,j.n)(this,{coders:Object.freeze(a.slice())})}defaultValue(){let a=[];this.coders.forEach(b=>{a.push(b.defaultValue())});let b=this.coders.reduce((a,b)=>{let c=b.localName;return c&&(a[c]||(a[c]=0),a[c]++),a},{});return this.coders.forEach((c,d)=>{let e=c.localName;e&&1===b[e]&&("length"===e&&(e="_length"),null==a[e]&&(a[e]=a[d]))}),Object.freeze(a)}encode(a,b){let c=h.V.dereference(b,"tuple");return l(a,this.coders,c)}decode(a){return m(a,this.coders)}}var C=c(4499);let D=new Map;D.set(0,"GENERIC_PANIC"),D.set(1,"ASSERT_FALSE"),D.set(17,"OVERFLOW"),D.set(18,"DIVIDE_BY_ZERO"),D.set(33,"ENUM_RANGE_ERROR"),D.set(34,"BAD_STORAGE_DATA"),D.set(49,"STACK_UNDERFLOW"),D.set(50,"ARRAY_RANGE_ERROR"),D.set(65,"OUT_OF_MEMORY"),D.set(81,"UNINITIALIZED_FUNCTION_CALL");let E=new RegExp(/^bytes([0-9]*)$/),F=new RegExp(/^(u?int)([0-9]*)$/),G=null,H=1024;class I{#C(a){if(a.isArray())return new n(this.#C(a.arrayChildren),a.arrayLength,a.name);if(a.isTuple())return new B(a.components.map(a=>this.#C(a)),a.name);switch(a.baseType){case"address":return new i(a.name);case"bool":return new o(a.name);case"string":return new A(a.name);case"bytes":return new r(a.name);case"":return new u(a.name)}let b=a.type.match(F);if(b){let c=parseInt(b[2]||"256");return(0,d.MR)(0!==c&&c<=256&&c%8==0,"invalid "+b[1]+" bit length","param",a),new y(c/8,"int"===b[1],a.name)}if(b=a.type.match(E)){let c=parseInt(b[1]);return(0,d.MR)(0!==c&&c<=32,"invalid bytes length","param",a),new s(c,a.name)}(0,d.MR)(!1,"invalid type","type",a.type)}getDefaultValue(a){return new B(a.map(a=>this.#C(C.aX.from(a))),"_").defaultValue()}encode(a,b){(0,d.dd)(b.length,a.length,"types/values length mismatch");let c=new B(a.map(a=>this.#C(C.aX.from(a))),"_"),f=new e.AU;return c.encode(f,b),f.data}decode(a,b,c){return new B(a.map(a=>this.#C(C.aX.from(a))),"_").decode(new e.mP(b,c,H))}static _setDefaultMaxInflation(a){(0,d.MR)("number"==typeof a&&Number.isInteger(a),"invalid defaultMaxInflation factor","value",a),H=a}static defaultAbiCoder(){return null==G&&(G=new I),G}static getBuiltinCallException(a,b,c){return function(a,b,c,e){let g="missing revert data",h=null,i=null;if(c){g="execution reverted";let a=(0,p.q5)(c);if(c=(0,p.c$)(c),0===a.length)g+=" (no data present; likely require(false) occurred",h="require(false)";else if(a.length%32!=4)g+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===(0,p.c$)(a.slice(0,4)))try{h=e.decode(["string"],a.slice(4))[0],i={signature:"Error(string)",name:"Error",args:[h]},g+=`: ${JSON.stringify(h)}`}catch(a){g+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===(0,p.c$)(a.slice(0,4)))try{let b=Number(e.decode(["uint256"],a.slice(4))[0]);i={signature:"Panic(uint256)",name:"Panic",args:[b]},h=`Panic due to ${D.get(b)||"UNKNOWN"}(${b})`,g+=`: ${h}`}catch(a){g+=" (could not decode panic code)"}else g+=" (unknown custom error)"}let j={to:b.to?(0,f.b)(b.to):null,data:b.data||"0x"};return b.from&&(j.from=(0,f.b)(b.from)),(0,d.xz)(g,"CALL_EXCEPTION",{action:a,data:c,reason:h,transaction:j,invocation:null,revert:i})}(a,b,c,I.defaultAbiCoder())}}},6152:(a,b,c)=>{c.d(b,{b:()=>l});var d=c(7012),e=c(9153),f=c(5670);let g=BigInt(0),h=BigInt(36);function i(a){let b=(a=a.toLowerCase()).substring(2).split(""),c=new Uint8Array(40);for(let a=0;a<40;a++)c[a]=b[a].charCodeAt(0);let f=(0,e.q5)((0,d.S)(c));for(let a=0;a<40;a+=2)f[a>>1]>>4>=8&&(b[a]=b[a].toUpperCase()),(15&f[a>>1])>=8&&(b[a+1]=b[a+1].toUpperCase());return"0x"+b.join("")}let j={};for(let a=0;a<10;a++)j[String(a)]=String(a);for(let a=0;a<26;a++)j[String.fromCharCode(65+a)]=String(10+a);let k=function(){let a={};for(let b=0;b<36;b++)a["0123456789abcdefghijklmnopqrstuvwxyz"[b]]=BigInt(b);return a}();function l(a){if((0,f.MR)("string"==typeof a,"invalid address","address",a),a.match(/^(0x)?[0-9a-fA-F]{40}$/)){a.startsWith("0x")||(a="0x"+a);let b=i(a);return(0,f.MR)(!a.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||b===a,"bad address checksum","address",a),b}if(a.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,f.MR)(a.substring(2,4)===function(a){let b=(a=(a=a.toUpperCase()).substring(4)+a.substring(0,2)+"00").split("").map(a=>j[a]).join("");for(;b.length>=15;){let a=b.substring(0,15);b=parseInt(a,10)%97+b.substring(a.length)}let c=String(98-parseInt(b,10)%97);for(;c.length<2;)c="0"+c;return c}(a),"bad icap checksum","address",a);let b=(function(a){a=a.toLowerCase();let b=g;for(let c=0;c<a.length;c++)b=b*h+k[a[c]];return b})(a.substring(4)).toString(16);for(;b.length<40;)b="0"+b;return i("0x"+b)}(0,f.MR)(!1,"invalid address","address",a)}},6918:(a,b,c)=>{c.d(b,{YW:()=>h,_v:()=>i});var d=c(9153),e=c(5670);function f(a,b,c,d,e){if("BAD_PREFIX"===a||"UNEXPECTED_CONTINUE"===a){let a=0;for(let d=b+1;d<c.length&&c[d]>>6==2;d++)a++;return a}return"OVERRUN"===a?c.length-b-1:0}let g=Object.freeze({error:function(a,b,c,d,f){(0,e.MR)(!1,`invalid codepoint at offset ${b}; ${a}`,"bytes",c)},ignore:f,replace:function(a,b,c,d,g){return"OVERLONG"===a?((0,e.MR)("number"==typeof g,"invalid bad code point for replacement","badCodepoint",g),d.push(g),0):(d.push(65533),f(a,b,c,d,g))}});function h(a,b){(0,e.MR)("string"==typeof a,"invalid string value","str",a),null!=b&&((0,e.SP)(b),a=a.normalize(b));let c=[];for(let b=0;b<a.length;b++){let d=a.charCodeAt(b);if(d<128)c.push(d);else if(d<2048)c.push(d>>6|192),c.push(63&d|128);else if((64512&d)==55296){b++;let f=a.charCodeAt(b);(0,e.MR)(b<a.length&&(64512&f)==56320,"invalid surrogate pair","str",a);let g=65536+((1023&d)<<10)+(1023&f);c.push(g>>18|240),c.push(g>>12&63|128),c.push(g>>6&63|128),c.push(63&g|128)}else c.push(d>>12|224),c.push(d>>6&63|128),c.push(63&d|128)}return new Uint8Array(c)}function i(a,b){return(function(a,b){null==b&&(b=g.error);let c=(0,d.q5)(a,"bytes"),e=[],f=0;for(;f<c.length;){let a=c[f++];if(a>>7==0){e.push(a);continue}let d=null,g=null;if((224&a)==192)d=1,g=127;else if((240&a)==224)d=2,g=2047;else if((248&a)==240)d=3,g=65535;else{(192&a)==128?f+=b("UNEXPECTED_CONTINUE",f-1,c,e):f+=b("BAD_PREFIX",f-1,c,e);continue}if(f-1+d>=c.length){f+=b("OVERRUN",f-1,c,e);continue}let h=a&(1<<8-d-1)-1;for(let a=0;a<d;a++){let a=c[f];if((192&a)!=128){f+=b("MISSING_CONTINUE",f,c,e),h=null;break}h=h<<6|63&a,f++}if(null!==h){if(h>1114111){f+=b("OUT_OF_RANGE",f-1-d,c,e,h);continue}if(h>=55296&&h<=57343){f+=b("UTF16_SURROGATE",f-1-d,c,e,h);continue}if(h<=g){f+=b("OVERLONG",f-1-d,c,e,h);continue}e.push(h)}}return e})(a,b).map(a=>a<=65535?String.fromCharCode(a):String.fromCharCode(((a-=65536)>>10&1023)+55296,(1023&a)+56320)).join("")}},7012:(a,b,c)=>{c.d(b,{S:()=>A});var d=c(7319);let e=BigInt(0x100000000-1),f=BigInt(32);var g=c(1189);let[h,i,j]=[[],[],[]],k=BigInt(0),l=BigInt(1),m=BigInt(2),n=BigInt(7),o=BigInt(256),p=BigInt(113);for(let a=0,b=l,c=1,d=0;a<24;a++){[c,d]=[d,(2*c+3*d)%5],h.push(2*(5*d+c)),i.push((a+1)*(a+2)/2%64);let e=k;for(let a=0;a<7;a++)(b=(b<<l^(b>>n)*p)%o)&m&&(e^=l<<(l<<BigInt(a))-l);j.push(e)}let[q,r]=function(a,b=!1){let c=new Uint32Array(a.length),d=new Uint32Array(a.length);for(let g=0;g<a.length;g++){let{h,l:i}=function(a,b=!1){return b?{h:Number(a&e),l:Number(a>>f&e)}:{h:0|Number(a>>f&e),l:0|Number(a&e)}}(a[g],b);[c[g],d[g]]=[h,i]}return[c,d]}(j,!0),s=(a,b,c)=>c>32?((a,b,c)=>b<<c-32|a>>>64-c)(a,b,c):((a,b,c)=>a<<c|b>>>32-c)(a,b,c),t=(a,b,c)=>c>32?((a,b,c)=>a<<c-32|b>>>64-c)(a,b,c):((a,b,c)=>b<<c|a>>>32-c)(a,b,c);class u extends g.Vw{constructor(a,b,c,e=!1,f=24){if(super(),this.blockLen=a,this.suffix=b,this.outputLen=c,this.enableXOF=e,this.rounds=f,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,d.ai)(c),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,g.DH)(this.state)}keccak(){!function(a,b=24){let c=new Uint32Array(10);for(let d=24-b;d<24;d++){for(let b=0;b<10;b++)c[b]=a[b]^a[b+10]^a[b+20]^a[b+30]^a[b+40];for(let b=0;b<10;b+=2){let d=(b+8)%10,e=(b+2)%10,f=c[e],g=c[e+1],h=s(f,g,1)^c[d],i=t(f,g,1)^c[d+1];for(let c=0;c<50;c+=10)a[b+c]^=h,a[b+c+1]^=i}let b=a[2],e=a[3];for(let c=0;c<24;c++){let d=i[c],f=s(b,e,d),g=t(b,e,d),j=h[c];b=a[j],e=a[j+1],a[j]=f,a[j+1]=g}for(let b=0;b<50;b+=10){for(let d=0;d<10;d++)c[d]=a[b+d];for(let d=0;d<10;d++)a[b+d]^=~c[(d+2)%10]&c[(d+4)%10]}a[0]^=q[d],a[1]^=r[d]}c.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(a){(0,d.t2)(this);let{blockLen:b,state:c}=this,e=(a=(0,g.ZJ)(a)).length;for(let d=0;d<e;){let f=Math.min(b-this.pos,e-d);for(let b=0;b<f;b++)c[this.pos++]^=a[d++];this.pos===b&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:a,suffix:b,pos:c,blockLen:d}=this;a[c]^=b,(128&b)!=0&&c===d-1&&this.keccak(),a[d-1]^=128,this.keccak()}writeInto(a){(0,d.t2)(this,!1),(0,d.ee)(a),this.finish();let b=this.state,{blockLen:c}=this;for(let d=0,e=a.length;d<e;){this.posOut>=c&&this.keccak();let f=Math.min(c-this.posOut,e-d);a.set(b.subarray(this.posOut,this.posOut+f),d),this.posOut+=f,d+=f}return a}xofInto(a){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){return(0,d.ai)(a),this.xofInto(new Uint8Array(a))}digestInto(a){if((0,d.CG)(a,this),this.finished)throw Error("digest() was already called");return this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(a){let{blockLen:b,suffix:c,outputLen:d,rounds:e,enableXOF:f}=this;return a||(a=new u(b,c,d,f,e)),a.state32.set(this.state32),a.pos=this.pos,a.posOut=this.posOut,a.finished=this.finished,a.rounds=e,a.suffix=c,a.outputLen=d,a.enableXOF=f,a.destroyed=this.destroyed,a}}let v=(0,g.ld)(()=>new u(136,1,32));var w=c(9153);let x=!1,y=function(a){return v(a)},z=y;function A(a){let b=(0,w.q5)(a,"data");return(0,w.c$)(z(b))}A._=y,A.lock=function(){x=!0},A.register=function(a){if(x)throw TypeError("keccak256 is locked");z=a},Object.freeze(A)},7319:(a,b,c)=>{function d(a){if(!Number.isSafeInteger(a)||a<0)throw Error(`Wrong positive integer: ${a}`)}function e(a,...b){if(!(a instanceof Uint8Array))throw Error("Expected Uint8Array");if(b.length>0&&!b.includes(a.length))throw Error(`Expected Uint8Array of length ${b}, not of length=${a.length}`)}function f(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash should be wrapped by utils.wrapConstructor");d(a.outputLen),d(a.blockLen)}function g(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function h(a,b){e(a);let c=b.outputLen;if(a.length<c)throw Error(`digestInto() expects output buffer of length at least ${c}`)}c.d(b,{CG:()=>h,ai:()=>d,ee:()=>e,t2:()=>g,tW:()=>f})},8205:(a,b,c)=>{c.d(b,{D:()=>f});var d=c(7319),e=c(1189);class f extends e.Vw{constructor(a,b,c,d){super(),this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=(0,e.O8)(this.buffer)}update(a){(0,d.t2)(this);let{view:b,buffer:c,blockLen:f}=this,g=(a=(0,e.ZJ)(a)).length;for(let d=0;d<g;){let h=Math.min(f-this.pos,g-d);if(h===f){let b=(0,e.O8)(a);for(;f<=g-d;d+=f)this.process(b,d);continue}c.set(a.subarray(d,d+h),this.pos),this.pos+=h,d+=h,this.pos===f&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){(0,d.t2)(this),(0,d.CG)(a,this),this.finished=!0;let{buffer:b,view:c,blockLen:f,isLE:g}=this,{pos:h}=this;b[h++]=128,this.buffer.subarray(h).fill(0),this.padOffset>f-h&&(this.process(c,0),h=0);for(let a=h;a<f;a++)b[a]=0;!function(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)}(c,f-8,BigInt(8*this.length),g),this.process(c,0);let i=(0,e.O8)(a),j=this.outputLen;if(j%4)throw Error("_sha2: outputLen should be aligned to 32bit");let k=j/4,l=this.get();if(k>l.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<k;a++)i.setUint32(4*a,l[a],g)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.length=d,a.pos=g,a.finished=e,a.destroyed=f,d%b&&a.buffer.set(c),a}}},8325:(a,b,c)=>{c.d(b,{p:()=>d});let d="0x0000000000000000000000000000000000000000000000000000000000000000"},8917:(a,b,c)=>{c.d(b,{w:()=>A,z:()=>z});var d=c(6152),e=c(7012),f=c(4176),g=c(9153),h=c(4002),i=c(5670),j=c(3488),k=c(4211);let l=new Uint8Array(32);l.fill(0);let m=BigInt(-1),n=BigInt(0),o=BigInt(1),p=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),q=(0,h.up)(o,32),r=(0,h.up)(n,32),s={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},t=["name","version","chainId","verifyingContract","salt"];function u(a){return function(b){return(0,i.MR)("string"==typeof b,`invalid domain value for ${JSON.stringify(a)}`,`domain.${a}`,b),b}}let v={name:u("name"),version:u("version"),chainId:function(a){let b=(0,h.Ab)(a,"domain.chainId");return((0,i.MR)(b>=0,"invalid chain ID","domain.chainId",a),Number.isSafeInteger(b))?Number(b):(0,h.nD)(b)},verifyingContract:function(a){try{return(0,d.b)(a).toLowerCase()}catch(a){}(0,i.MR)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",a)},salt:function(a){let b=(0,g.q5)(a,"domain.salt");return(0,i.MR)(32===b.length,'invalid domain value "salt"',"domain.salt",a),(0,g.c$)(b)}};function w(a){{let b=a.match(/^(u?)int(\d+)$/);if(b){let c=""===b[1],d=parseInt(b[2]);(0,i.MR)(d%8==0&&0!==d&&d<=256&&b[2]===String(d),"invalid numeric width","type",a);let e=(0,h.dK)(p,c?d-1:d),f=c?(e+o)*m:n;return function(b){let d=(0,h.Ab)(b,"value");return(0,i.MR)(d>=f&&d<=e,`value out-of-bounds for ${a}`,"value",d),(0,h.up)(c?(0,h.JJ)(d,256):d,32)}}}{let b=a.match(/^bytes(\d+)$/);if(b){let c=parseInt(b[1]);return(0,i.MR)(0!==c&&c<=32&&b[1]===String(c),"invalid bytes width","type",a),function(b){let d=(0,g.q5)(b);(0,i.MR)(d.length===c,`invalid length for ${a}`,"value",b);let e=(0,g.q5)(b),f=e.length%32;return f?(0,g.xW)([e,l.slice(f)]):(0,g.c$)(e)}}}switch(a){case"address":return function(a){return(0,g.nx)((0,d.b)(a),32)};case"bool":return function(a){return a?q:r};case"bytes":return function(a){return(0,e.S)(a)};case"string":return function(a){return(0,k.id)(a)}}return null}function x(a,b){return`${a}(${b.map(({name:a,type:b})=>b+" "+a).join(",")})`}function y(a){let b=a.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return b?{base:b[1],index:b[2]+b[4],array:{base:b[1],prefix:b[1]+b[2],count:b[5]?parseInt(b[5]):-1}}:{base:a}}class z{primaryType;#D;get types(){return JSON.parse(this.#D)}#E;#F;constructor(a){this.#E=new Map,this.#F=new Map;let b=new Map,c=new Map,d=new Map,e={};for(let f in Object.keys(a).forEach(f=>{e[f]=a[f].map(({name:b,type:c})=>{let{base:d,index:e}=y(c);return"int"!==d||a.int||(d="int256"),"uint"!==d||a.uint||(d="uint256"),{name:b,type:d+(e||"")}}),b.set(f,new Set),c.set(f,[]),d.set(f,new Set)}),this.#D=JSON.stringify(e),e){let d=new Set;for(let g of e[f]){(0,i.MR)(!d.has(g.name),`duplicate variable name ${JSON.stringify(g.name)} in ${JSON.stringify(f)}`,"types",a),d.add(g.name);let e=y(g.type).base;(0,i.MR)(e!==f,`circular type reference to ${JSON.stringify(e)}`,"types",a),w(e)||((0,i.MR)(c.has(e),`unknown type ${JSON.stringify(e)}`,"types",a),c.get(e).push(f),b.get(f).add(e))}}let f=Array.from(c.keys()).filter(a=>0===c.get(a).length);for(let[g,h]of((0,i.MR)(0!==f.length,"missing primary type","types",a),(0,i.MR)(1===f.length,`ambiguous primary types or unused types: ${f.map(a=>JSON.stringify(a)).join(", ")}`,"types",a),(0,j.n)(this,{primaryType:f[0]}),!function e(f,g){for(let h of((0,i.MR)(!g.has(f),`circular type reference to ${JSON.stringify(f)}`,"types",a),g.add(f),b.get(f)))if(c.has(h))for(let a of(e(h,g),g))d.get(a).add(h);g.delete(f)}(this.primaryType,new Set),d)){let a=Array.from(h);a.sort(),this.#E.set(g,x(g,e[g])+a.map(a=>x(a,e[a])).join(""))}}getEncoder(a){let b=this.#F.get(a);return b||(b=this.#G(a),this.#F.set(a,b)),b}#G(a){{let b=w(a);if(b)return b}let b=y(a).array;if(b){let a=b.prefix,c=this.getEncoder(a);return d=>{(0,i.MR)(-1===b.count||b.count===d.length,`array length mismatch; expected length ${b.count}`,"value",d);let f=d.map(c);return this.#E.has(a)&&(f=f.map(e.S)),(0,e.S)((0,g.xW)(f))}}let c=this.types[a];if(c){let b=(0,k.id)(this.#E.get(a));return a=>{let d=c.map(({name:b,type:c})=>{let d=this.getEncoder(c)(a[b]);return this.#E.has(c)?(0,e.S)(d):d});return d.unshift(b),(0,g.xW)(d)}}(0,i.MR)(!1,`unknown type: ${a}`,"type",a)}encodeType(a){let b=this.#E.get(a);return(0,i.MR)(b,`unknown type: ${JSON.stringify(a)}`,"name",a),b}encodeData(a,b){return this.getEncoder(a)(b)}hashStruct(a,b){return(0,e.S)(this.encodeData(a,b))}encode(a){return this.encodeData(this.primaryType,a)}hash(a){return this.hashStruct(this.primaryType,a)}_visit(a,b,c){if(w(a))return c(a,b);let d=y(a).array;if(d)return(0,i.MR)(-1===d.count||d.count===b.length,`array length mismatch; expected length ${d.count}`,"value",b),b.map(a=>this._visit(d.prefix,a,c));let e=this.types[a];if(e)return e.reduce((a,{name:d,type:e})=>(a[d]=this._visit(e,b[d],c),a),{});(0,i.MR)(!1,`unknown type: ${a}`,"type",a)}visit(a,b){return this._visit(this.primaryType,a,b)}static from(a){return new z(a)}static getPrimaryType(a){return z.from(a).primaryType}static hashStruct(a,b,c){return z.from(b).hashStruct(a,c)}static hashDomain(a){let b=[];for(let c in a){if(null==a[c])continue;let d=s[c];(0,i.MR)(d,`invalid typed-data domain key: ${JSON.stringify(c)}`,"domain",a),b.push({name:c,type:d})}return b.sort((a,b)=>t.indexOf(a.name)-t.indexOf(b.name)),z.hashStruct("EIP712Domain",{EIP712Domain:b},a)}static encode(a,b,c){return(0,g.xW)(["0x1901",z.hashDomain(a),z.from(b).hash(c)])}static hash(a,b,c){return(0,e.S)(z.encode(a,b,c))}static async resolveNames(a,b,c,d){for(let b in a=Object.assign({},a))null==a[b]&&delete a[b];let e={};a.verifyingContract&&!(0,g.Lo)(a.verifyingContract,20)&&(e[a.verifyingContract]="0x");let f=z.from(b);for(let a in f.visit(c,(a,b)=>("address"!==a||(0,g.Lo)(b,20)||(e[b]="0x"),b)),e)e[a]=await d(a);return a.verifyingContract&&e[a.verifyingContract]&&(a.verifyingContract=e[a.verifyingContract]),c=f.visit(c,(a,b)=>"address"===a&&e[b]?e[b]:b),{domain:a,value:c}}static getPayload(a,b,c){z.hashDomain(a);let d={},e=[];t.forEach(b=>{let c=a[b];null!=c&&(d[b]=v[b](c),e.push({name:b,type:s[b]}))});let f=z.from(b),j=Object.assign({},b=f.types);return(0,i.MR)(null==j.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",b),j.EIP712Domain=e,f.encode(c),{types:j,domain:d,primaryType:f.primaryType,message:f.visit(c,(a,b)=>{if(a.match(/^bytes(\d*)/))return(0,g.c$)((0,g.q5)(b));if(a.match(/^u?int/))return(0,h.Ab)(b).toString();switch(a){case"address":return b.toLowerCase();case"bool":return!!b;case"string":return(0,i.MR)("string"==typeof b,"invalid string","value",b),b}(0,i.MR)(!1,"unsupported type","type",a)})}}}function A(a,b,c,d){return(0,f.x)(z.hash(a,b,c),d)}},9009:(a,b,c)=>{c.d(b,{J9:()=>l,VS:()=>m,eB:()=>n,tG:()=>o,uI:()=>q,z5:()=>p});var d=c(3488),e=c(9153),f=c(4002),g=c(5670),h=c(5864);let i=BigInt(0);function j(a){return null==a?null:a}function k(a){return null==a?null:a.toString()}class l{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(a,b,c){(0,d.n)(this,{gasPrice:j(a),maxFeePerGas:j(b),maxPriorityFeePerGas:j(c)})}toJSON(){let{gasPrice:a,maxFeePerGas:b,maxPriorityFeePerGas:c}=this;return{_type:"FeeData",gasPrice:k(a),maxFeePerGas:k(b),maxPriorityFeePerGas:k(c)}}}function m(a){let b={};for(let c of(a.to&&(b.to=a.to),a.from&&(b.from=a.from),a.data&&(b.data=(0,e.c$)(a.data)),"chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))c in a&&null!=a[c]&&(b[c]=(0,f.Ab)(a[c],`request.${c}`));for(let c of"type,nonce".split(/,/))c in a&&null!=a[c]&&(b[c]=(0,f.WZ)(a[c],`request.${c}`));return a.accessList&&(b.accessList=(0,h.$)(a.accessList)),a.authorizationList&&(b.authorizationList=a.authorizationList.slice()),"blockTag"in a&&(b.blockTag=a.blockTag),"enableCcipRead"in a&&(b.enableCcipRead=!!a.enableCcipRead),"customData"in a&&(b.customData=a.customData),"blobVersionedHashes"in a&&a.blobVersionedHashes&&(b.blobVersionedHashes=a.blobVersionedHashes.slice()),"kzg"in a&&(b.kzg=a.kzg),"blobs"in a&&a.blobs&&(b.blobs=a.blobs.map(a=>(0,e.f)(a)?(0,e.c$)(a):Object.assign({},a))),b}class n{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#H;constructor(a,b){this.#H=a.transactions.map(a=>"string"!=typeof a?new q(a,b):a),(0,d.n)(this,{provider:b,hash:j(a.hash),number:a.number,timestamp:a.timestamp,parentHash:a.parentHash,parentBeaconBlockRoot:a.parentBeaconBlockRoot,nonce:a.nonce,difficulty:a.difficulty,gasLimit:a.gasLimit,gasUsed:a.gasUsed,blobGasUsed:a.blobGasUsed,excessBlobGas:a.excessBlobGas,miner:a.miner,prevRandao:j(a.prevRandao),extraData:a.extraData,baseFeePerGas:j(a.baseFeePerGas),stateRoot:a.stateRoot,receiptsRoot:a.receiptsRoot})}get transactions(){return this.#H.map(a=>"string"==typeof a?a:a.hash)}get prefetchedTransactions(){let a=this.#H.slice();return 0===a.length?[]:((0,g.vA)("object"==typeof a[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),a)}toJSON(){let{baseFeePerGas:a,difficulty:b,extraData:c,gasLimit:d,gasUsed:e,hash:f,miner:g,prevRandao:h,nonce:i,number:j,parentHash:l,parentBeaconBlockRoot:m,stateRoot:n,receiptsRoot:o,timestamp:p,transactions:q}=this;return{_type:"Block",baseFeePerGas:k(a),difficulty:k(b),extraData:c,gasLimit:k(d),gasUsed:k(e),blobGasUsed:k(this.blobGasUsed),excessBlobGas:k(this.excessBlobGas),hash:f,miner:g,prevRandao:h,nonce:i,number:j,parentHash:l,timestamp:p,parentBeaconBlockRoot:m,stateRoot:n,receiptsRoot:o,transactions:q}}[Symbol.iterator](){let a=0,b=this.transactions;return{next:()=>a<this.length?{value:b[a++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#H.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(a){let b;if("number"==typeof a)b=this.#H[a];else{let c=a.toLowerCase();for(let a of this.#H)if("string"==typeof a){if(a!==c)continue;b=a;break}else{if(a.hash!==c)continue;b=a;break}}if(null==b)throw Error("no such tx");return"string"==typeof b?await this.provider.getTransaction(b):b}getPrefetchedTransaction(a){let b=this.prefetchedTransactions;if("number"==typeof a)return b[a];for(let c of(a=a.toLowerCase(),b))if(c.hash===a)return c;(0,g.MR)(!1,"no matching transaction","indexOrHash",a)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){var a;if(!this.isMined())throw Error("");return a=this,{orphan:"drop-block",hash:a.hash,number:a.number}}}class o{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(a,b){this.provider=b;let c=Object.freeze(a.topics.slice());(0,d.n)(this,{transactionHash:a.transactionHash,blockHash:a.blockHash,blockNumber:a.blockNumber,removed:a.removed,address:a.address,data:a.data,topics:c,index:a.index,transactionIndex:a.transactionIndex})}toJSON(){let{address:a,blockHash:b,blockNumber:c,data:d,index:e,removed:f,topics:g,transactionHash:h,transactionIndex:i}=this;return{_type:"log",address:a,blockHash:b,blockNumber:c,data:d,index:e,removed:f,topics:g,transactionHash:h,transactionIndex:i}}async getBlock(){let a=await this.provider.getBlock(this.blockHash);return(0,g.vA)(!!a,"failed to find transaction","UNKNOWN_ERROR",{}),a}async getTransaction(){let a=await this.provider.getTransaction(this.transactionHash);return(0,g.vA)(!!a,"failed to find transaction","UNKNOWN_ERROR",{}),a}async getTransactionReceipt(){let a=await this.provider.getTransactionReceipt(this.transactionHash);return(0,g.vA)(!!a,"failed to find transaction receipt","UNKNOWN_ERROR",{}),a}removedEvent(){var a;return a=this,{orphan:"drop-log",log:{transactionHash:a.transactionHash,blockHash:a.blockHash,blockNumber:a.blockNumber,address:a.address,data:a.data,topics:Object.freeze(a.topics.slice()),index:a.index}}}}class p{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#I;constructor(a,b){this.#I=Object.freeze(a.logs.map(a=>new o(a,b)));let c=i;null!=a.effectiveGasPrice?c=a.effectiveGasPrice:null!=a.gasPrice&&(c=a.gasPrice),(0,d.n)(this,{provider:b,to:a.to,from:a.from,contractAddress:a.contractAddress,hash:a.hash,index:a.index,blockHash:a.blockHash,blockNumber:a.blockNumber,logsBloom:a.logsBloom,gasUsed:a.gasUsed,cumulativeGasUsed:a.cumulativeGasUsed,blobGasUsed:a.blobGasUsed,gasPrice:c,blobGasPrice:a.blobGasPrice,type:a.type,status:a.status,root:a.root})}get logs(){return this.#I}toJSON(){let{to:a,from:b,contractAddress:c,hash:d,index:e,blockHash:f,blockNumber:g,logsBloom:h,logs:i,status:j,root:l}=this;return{_type:"TransactionReceipt",blockHash:f,blockNumber:g,contractAddress:c,cumulativeGasUsed:k(this.cumulativeGasUsed),from:b,gasPrice:k(this.gasPrice),blobGasUsed:k(this.blobGasUsed),blobGasPrice:k(this.blobGasPrice),gasUsed:k(this.gasUsed),hash:d,index:e,logs:i,logsBloom:h,root:l,status:j,to:a}}get length(){return this.logs.length}[Symbol.iterator](){let a=0;return{next:()=>a<this.length?{value:this.logs[a++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let a=await this.provider.getBlock(this.blockHash);if(null==a)throw Error("TODO");return a}async getTransaction(){let a=await this.provider.getTransaction(this.hash);if(null==a)throw Error("TODO");return a}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return s(this)}reorderedEvent(a){return(0,g.vA)(!a||a.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),r(this,a)}}class q{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#J;constructor(a,b){this.provider=b,this.blockNumber=null!=a.blockNumber?a.blockNumber:null,this.blockHash=null!=a.blockHash?a.blockHash:null,this.hash=a.hash,this.index=a.index,this.type=a.type,this.from=a.from,this.to=a.to||null,this.gasLimit=a.gasLimit,this.nonce=a.nonce,this.data=a.data,this.value=a.value,this.gasPrice=a.gasPrice,this.maxPriorityFeePerGas=null!=a.maxPriorityFeePerGas?a.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=a.maxFeePerGas?a.maxFeePerGas:null,this.maxFeePerBlobGas=null!=a.maxFeePerBlobGas?a.maxFeePerBlobGas:null,this.chainId=a.chainId,this.signature=a.signature,this.accessList=null!=a.accessList?a.accessList:null,this.blobVersionedHashes=null!=a.blobVersionedHashes?a.blobVersionedHashes:null,this.authorizationList=null!=a.authorizationList?a.authorizationList:null,this.#J=-1}toJSON(){let{blockNumber:a,blockHash:b,index:c,hash:d,type:e,to:f,from:g,nonce:h,data:i,signature:j,accessList:l,blobVersionedHashes:m}=this;return{_type:"TransactionResponse",accessList:l,blockNumber:a,blockHash:b,blobVersionedHashes:m,chainId:k(this.chainId),data:i,from:g,gasLimit:k(this.gasLimit),gasPrice:k(this.gasPrice),hash:d,maxFeePerGas:k(this.maxFeePerGas),maxPriorityFeePerGas:k(this.maxPriorityFeePerGas),maxFeePerBlobGas:k(this.maxFeePerBlobGas),nonce:h,signature:j,to:f,index:c,type:e,value:k(this.value)}}async getBlock(){let a=this.blockNumber;if(null==a){let b=await this.getTransaction();b&&(a=b.blockNumber)}if(null==a)return null;let b=this.provider.getBlock(a);if(null==b)throw Error("TODO");return b}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:a,blockNumber:b}=await (0,d.k)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==a||null==a.blockNumber?0:b-a.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(a,b){let c=null==a?1:a,e=null==b?0:b,f=this.#J,h=-1,j=-1===f,k=async()=>{if(j)return null;let{blockNumber:a,nonce:b}=await (0,d.k)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){f=a;return}if(j)return null;let e=await this.getTransaction();if(!e||null==e.blockNumber)for(-1===h&&(h=f-3)<this.#J&&(h=this.#J);h<=a;){if(j)return null;let b=await this.provider.getBlock(h,!0);if(null==b)break;for(let a of b)if(a===this.hash)return;for(let d=0;d<b.length;d++){let e=await b.getTransaction(d);if(e.from===this.from&&e.nonce===this.nonce){if(j)return null;let b=await this.provider.getTransactionReceipt(e.hash);if(null==b||a-b.blockNumber+1<c)return;let d="replaced";e.data===this.data&&e.to===this.to&&e.value===this.value?d="repriced":"0x"===e.data&&e.from===e.to&&e.value===i&&(d="cancelled"),(0,g.vA)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===d||"cancelled"===d,reason:d,replacement:e.replaceableTransaction(f),hash:e.hash,receipt:b})}}h++}},l=a=>{if(null==a||0!==a.status)return a;(0,g.vA)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:a.to,from:a.from,data:""},receipt:a})},m=await this.provider.getTransactionReceipt(this.hash);if(0===c)return l(m);if(m){if(1===c||await m.confirmations()>=c)return l(m)}else if(await k(),0===c)return null;let n=new Promise((a,b)=>{let d=[],h=()=>{d.forEach(a=>a())};if(d.push(()=>{j=!0}),e>0){let a=setTimeout(()=>{h(),b((0,g.xz)("wait for transaction timeout","TIMEOUT"))},e);d.push(()=>{clearTimeout(a)})}let i=async d=>{if(await d.confirmations()>=c){h();try{a(l(d))}catch(a){b(a)}}};if(d.push(()=>{this.provider.off(this.hash,i)}),this.provider.on(this.hash,i),f>=0){let a=async()=>{try{await k()}catch(a){if((0,g.bJ)(a,"TRANSACTION_REPLACED")){h(),b(a);return}}j||this.provider.once("block",a)};d.push(()=>{this.provider.off("block",a)}),this.provider.once("block",a)}});return await n}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return(0,g.vA)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),s(this)}reorderedEvent(a){return(0,g.vA)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,g.vA)(!a||a.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),r(this,a)}replaceableTransaction(a){(0,g.MR)(Number.isInteger(a)&&a>=0,"invalid startBlock","startBlock",a);let b=new q(this,this.provider);return b.#J=a,b}}function r(a,b){return{orphan:"reorder-transaction",tx:a,other:b}}function s(a){return{orphan:"drop-transaction",tx:a}}},9153:(a,b,c)=>{c.d(b,{Lm:()=>g,Lo:()=>h,X_:()=>q,ZG:()=>n,c$:()=>k,f:()=>i,nx:()=>p,pO:()=>m,q5:()=>f,xW:()=>l});var d=c(5670);function e(a,b,c){if(a instanceof Uint8Array)return c?new Uint8Array(a):a;if("string"==typeof a&&a.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let b=new Uint8Array((a.length-2)/2),c=2;for(let d=0;d<b.length;d++)b[d]=parseInt(a.substring(c,c+2),16),c+=2;return b}(0,d.MR)(!1,"invalid BytesLike value",b||"value",a)}function f(a,b){return e(a,b,!1)}function g(a,b){return e(a,b,!0)}function h(a,b){return"string"==typeof a&&!!a.match(/^0x[0-9A-Fa-f]*$/)&&("number"!=typeof b||a.length===2+2*b)&&(!0!==b||a.length%2==0)}function i(a){return h(a,!0)||a instanceof Uint8Array}let j="0123456789abcdef";function k(a){let b=f(a),c="0x";for(let a=0;a<b.length;a++){let d=b[a];c+=j[(240&d)>>4]+j[15&d]}return c}function l(a){return"0x"+a.map(a=>k(a).substring(2)).join("")}function m(a){return h(a,!0)?(a.length-2)/2:f(a).length}function n(a,b,c){let e=f(a);return null!=c&&c>e.length&&(0,d.vA)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:c}),k(e.slice(null==b?0:b,null==c?e.length:c))}function o(a,b,c){let e=f(a);(0,d.vA)(b>=e.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(e),length:b,offset:b+1});let g=new Uint8Array(b);return g.fill(0),c?g.set(e,b-e.length):g.set(e,0),k(g)}function p(a,b){return o(a,b,!0)}function q(a,b){return o(a,b,!1)}},9957:(a,b,c)=>{c.d(b,{s:()=>l});var d=c(8205),e=c(1189);let f=(a,b,c)=>a&b^~a&c,g=(a,b,c)=>a&b^a&c^b&c,h=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),i=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),j=new Uint32Array(64);class k extends d.D{constructor(){super(64,32,8,!1),this.A=0|i[0],this.B=0|i[1],this.C=0|i[2],this.D=0|i[3],this.E=0|i[4],this.F=0|i[5],this.G=0|i[6],this.H=0|i[7]}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)j[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=j[a-15],c=j[a-2],d=(0,e.Ow)(b,7)^(0,e.Ow)(b,18)^b>>>3,f=(0,e.Ow)(c,17)^(0,e.Ow)(c,19)^c>>>10;j[a]=f+j[a-7]+d+j[a-16]|0}let{A:c,B:d,C:i,D:k,E:l,F:m,G:n,H:o}=this;for(let a=0;a<64;a++){let b=o+((0,e.Ow)(l,6)^(0,e.Ow)(l,11)^(0,e.Ow)(l,25))+f(l,m,n)+h[a]+j[a]|0,p=((0,e.Ow)(c,2)^(0,e.Ow)(c,13)^(0,e.Ow)(c,22))+g(c,d,i)|0;o=n,n=m,m=l,l=k+b|0,k=i,i=d,d=c,c=b+p|0}c=c+this.A|0,d=d+this.B|0,i=i+this.C|0,k=k+this.D|0,l=l+this.E|0,m=m+this.F|0,n=n+this.G|0,o=o+this.H|0,this.set(c,d,i,k,l,m,n,o)}roundClean(){j.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let l=(0,e.ld)(()=>new k)},9965:(a,b,c)=>{c.d(b,{w:()=>g});var d=c(7319),e=c(1189);class f extends e.Vw{constructor(a,b){super(),this.finished=!1,this.destroyed=!1,(0,d.tW)(a);let c=(0,e.ZJ)(b);if(this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let f=this.blockLen,g=new Uint8Array(f);g.set(c.length>f?a.create().update(c).digest():c);for(let a=0;a<g.length;a++)g[a]^=54;this.iHash.update(g),this.oHash=a.create();for(let a=0;a<g.length;a++)g[a]^=106;this.oHash.update(g),g.fill(0)}update(a){return(0,d.t2)(this),this.iHash.update(a),this}digestInto(a){(0,d.t2)(this),(0,d.ee)(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let g=(a,b,c)=>new f(a,b).update(c).digest();g.create=(a,b)=>new f(a,b)}};